var Wn=r=>{throw TypeError(r)};var Ns=(r,e,t)=>e.has(r)||Wn("Cannot "+t);var _=(r,e,t)=>(Ns(r,e,"read from private field"),t?t.call(r):e.get(r)),M=(r,e,t)=>e.has(r)?Wn("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),L=(r,e,t,s)=>(Ns(r,e,"write to private field"),s?s.call(r,t):e.set(r,t),t),le=(r,e,t)=>(Ns(r,e,"access private method"),t);var zr=(r,e,t,s)=>({set _(n){L(r,e,n,t)},get _(){return _(r,e,s)}});import{j as d,P as Xe,c as al,a as Ji,u as us,B as ol,b as ll,d as Qi,e as es,f as ue,R as cl,g as ul,h as dl,i as hl,k as Xi,A as fl,D as pl,C as ml,l as gl,m as vl,S as yl,L as Zi,T as ea,n as ta,o as wl}from"./ui-BDb7KIYn.js";import{a as ra,r as v,o as k,v as bl,R as xl,g as _l,c as Re}from"./vendor-FMUcr-E9.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function t(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(n){if(n.ep)return;n.ep=!0;const i=t(n);fetch(n.href,i)}})();var sa,zn=ra;sa=zn.createRoot,zn.hydrateRoot;const El=1,Sl=1e6;let Is=0;function Tl(){return Is=(Is+1)%Number.MAX_SAFE_INTEGER,Is.toString()}const Ls=new Map,Hn=r=>{if(Ls.has(r))return;const e=setTimeout(()=>{Ls.delete(r),Er({type:"REMOVE_TOAST",toastId:r})},Sl);Ls.set(r,e)},kl=(r,e)=>{switch(e.type){case"ADD_TOAST":return{...r,toasts:[e.toast,...r.toasts].slice(0,El)};case"UPDATE_TOAST":return{...r,toasts:r.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?Hn(t):r.toasts.forEach(s=>{Hn(s.id)}),{...r,toasts:r.toasts.map(s=>s.id===t||t===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return e.toastId===void 0?{...r,toasts:[]}:{...r,toasts:r.toasts.filter(t=>t.id!==e.toastId)}}},Qr=[];let Xr={toasts:[]};function Er(r){Xr=kl(Xr,r),Qr.forEach(e=>{e(Xr)})}function jl({...r}){const e=Tl(),t=n=>Er({type:"UPDATE_TOAST",toast:{...n,id:e}}),s=()=>Er({type:"DISMISS_TOAST",toastId:e});return Er({type:"ADD_TOAST",toast:{...r,id:e,open:!0,onOpenChange:n=>{n||s()}}}),{id:e,dismiss:s,update:t}}function Cl(){const[r,e]=v.useState(Xr);return v.useEffect(()=>(Qr.push(e),()=>{const t=Qr.indexOf(e);t>-1&&Qr.splice(t,1)}),[r]),{...r,toast:jl,dismiss:t=>Er({type:"DISMISS_TOAST",toastId:t})}}var Pl=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Ol="VisuallyHidden",ds=v.forwardRef((r,e)=>d.jsx(Xe.span,{...r,ref:e,style:{...Pl,...r.style}}));ds.displayName=Ol;var Rl=ds,wn="ToastProvider",[bn,Al,Nl]=al("Toast"),[na,xg]=Ji("Toast",[Nl]),[Il,hs]=na(wn),ia=r=>{const{__scopeToast:e,label:t="Notification",duration:s=5e3,swipeDirection:n="right",swipeThreshold:i=50,children:a}=r,[o,l]=v.useState(null),[c,u]=v.useState(0),h=v.useRef(!1),p=v.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${wn}\`. Expected non-empty \`string\`.`),d.jsx(bn.Provider,{scope:e,children:d.jsx(Il,{scope:e,label:t,duration:s,swipeDirection:n,swipeThreshold:i,toastCount:c,viewport:o,onViewportChange:l,onToastAdd:v.useCallback(()=>u(f=>f+1),[]),onToastRemove:v.useCallback(()=>u(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:p,children:a})})};ia.displayName=wn;var aa="ToastViewport",Ll=["F8"],Js="toast.viewportPause",Qs="toast.viewportResume",oa=v.forwardRef((r,e)=>{const{__scopeToast:t,hotkey:s=Ll,label:n="Notifications ({hotkey})",...i}=r,a=hs(aa,t),o=Al(t),l=v.useRef(null),c=v.useRef(null),u=v.useRef(null),h=v.useRef(null),p=us(e,h,a.onViewportChange),f=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=a.toastCount>0;v.useEffect(()=>{const m=x=>{var w;s.length!==0&&s.every(S=>x[S]||x.code===S)&&((w=h.current)==null||w.focus())};return document.addEventListener("keydown",m),()=>document.removeEventListener("keydown",m)},[s]),v.useEffect(()=>{const m=l.current,x=h.current;if(y&&m&&x){const b=()=>{if(!a.isClosePausedRef.current){const E=new CustomEvent(Js);x.dispatchEvent(E),a.isClosePausedRef.current=!0}},w=()=>{if(a.isClosePausedRef.current){const E=new CustomEvent(Qs);x.dispatchEvent(E),a.isClosePausedRef.current=!1}},S=E=>{!m.contains(E.relatedTarget)&&w()},T=()=>{m.contains(document.activeElement)||w()};return m.addEventListener("focusin",b),m.addEventListener("focusout",S),m.addEventListener("pointermove",b),m.addEventListener("pointerleave",T),window.addEventListener("blur",b),window.addEventListener("focus",w),()=>{m.removeEventListener("focusin",b),m.removeEventListener("focusout",S),m.removeEventListener("pointermove",b),m.removeEventListener("pointerleave",T),window.removeEventListener("blur",b),window.removeEventListener("focus",w)}}},[y,a.isClosePausedRef]);const g=v.useCallback(({tabbingDirection:m})=>{const b=o().map(w=>{const S=w.ref.current,T=[S,...Gl(S)];return m==="forwards"?T:T.reverse()});return(m==="forwards"?b.reverse():b).flat()},[o]);return v.useEffect(()=>{const m=h.current;if(m){const x=b=>{var T,E,j;const w=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!w){const D=document.activeElement,C=b.shiftKey;if(b.target===m&&C){(T=c.current)==null||T.focus();return}const R=g({tabbingDirection:C?"backwards":"forwards"}),ge=R.findIndex(O=>O===D);$s(R.slice(ge+1))?b.preventDefault():C?(E=c.current)==null||E.focus():(j=u.current)==null||j.focus()}};return m.addEventListener("keydown",x),()=>m.removeEventListener("keydown",x)}},[o,g]),d.jsxs(ol,{ref:l,role:"region","aria-label":n.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&d.jsx(Xs,{ref:c,onFocusFromOutsideViewport:()=>{const m=g({tabbingDirection:"forwards"});$s(m)}}),d.jsx(bn.Slot,{scope:t,children:d.jsx(Xe.ol,{tabIndex:-1,...i,ref:p})}),y&&d.jsx(Xs,{ref:u,onFocusFromOutsideViewport:()=>{const m=g({tabbingDirection:"backwards"});$s(m)}})]})});oa.displayName=aa;var la="ToastFocusProxy",Xs=v.forwardRef((r,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:s,...n}=r,i=hs(la,t);return d.jsx(ds,{"aria-hidden":!0,tabIndex:0,...n,ref:e,style:{position:"fixed"},onFocus:a=>{var c;const o=a.relatedTarget;!((c=i.viewport)!=null&&c.contains(o))&&s()}})});Xs.displayName=la;var $r="Toast",$l="toast.swipeStart",Dl="toast.swipeMove",Ml="toast.swipeCancel",Ul="toast.swipeEnd",ca=v.forwardRef((r,e)=>{const{forceMount:t,open:s,defaultOpen:n,onOpenChange:i,...a}=r,[o,l]=ll({prop:s,defaultProp:n??!0,onChange:i,caller:$r});return d.jsx(Qi,{present:t||o,children:d.jsx(ql,{open:o,...a,ref:e,onClose:()=>l(!1),onPause:es(r.onPause),onResume:es(r.onResume),onSwipeStart:ue(r.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ue(r.onSwipeMove,c=>{const{x:u,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:ue(r.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ue(r.onSwipeEnd,c=>{const{x:u,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});ca.displayName=$r;var[Fl,Bl]=na($r,{onClose(){}}),ql=v.forwardRef((r,e)=>{const{__scopeToast:t,type:s="foreground",duration:n,open:i,onClose:a,onEscapeKeyDown:o,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:p,onSwipeEnd:f,...y}=r,g=hs($r,t),[m,x]=v.useState(null),b=us(e,O=>x(O)),w=v.useRef(null),S=v.useRef(null),T=n||g.duration,E=v.useRef(0),j=v.useRef(T),D=v.useRef(0),{onToastAdd:C,onToastRemove:G}=g,q=es(()=>{var Q;(m==null?void 0:m.contains(document.activeElement))&&((Q=g.viewport)==null||Q.focus()),a()}),R=v.useCallback(O=>{!O||O===1/0||(window.clearTimeout(D.current),E.current=new Date().getTime(),D.current=window.setTimeout(q,O))},[q]);v.useEffect(()=>{const O=g.viewport;if(O){const Q=()=>{R(j.current),c==null||c()},X=()=>{const Z=new Date().getTime()-E.current;j.current=j.current-Z,window.clearTimeout(D.current),l==null||l()};return O.addEventListener(Js,X),O.addEventListener(Qs,Q),()=>{O.removeEventListener(Js,X),O.removeEventListener(Qs,Q)}}},[g.viewport,T,l,c,R]),v.useEffect(()=>{i&&!g.isClosePausedRef.current&&R(T)},[i,T,g.isClosePausedRef,R]),v.useEffect(()=>(C(),()=>G()),[C,G]);const ge=v.useMemo(()=>m?ga(m):null,[m]);return g.viewport?d.jsxs(d.Fragment,{children:[ge&&d.jsx(Wl,{__scopeToast:t,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:ge}),d.jsx(Fl,{scope:t,onClose:q,children:ra.createPortal(d.jsx(bn.ItemSlot,{scope:t,children:d.jsx(cl,{asChild:!0,onEscapeKeyDown:ue(o,()=>{g.isFocusedToastEscapeKeyDownRef.current||q(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:d.jsx(Xe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...y,ref:b,style:{userSelect:"none",touchAction:"none",...r.style},onKeyDown:ue(r.onKeyDown,O=>{O.key==="Escape"&&(o==null||o(O.nativeEvent),O.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,q()))}),onPointerDown:ue(r.onPointerDown,O=>{O.button===0&&(w.current={x:O.clientX,y:O.clientY})}),onPointerMove:ue(r.onPointerMove,O=>{if(!w.current)return;const Q=O.clientX-w.current.x,X=O.clientY-w.current.y,Z=!!S.current,ve=["left","right"].includes(g.swipeDirection),A=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,oe=ve?A(0,Q):0,he=ve?0:A(0,X),U=O.pointerType==="touch"?10:2,F={x:oe,y:he},H={originalEvent:O,delta:F};Z?(S.current=F,Hr(Dl,h,H,{discrete:!1})):Kn(F,g.swipeDirection,U)?(S.current=F,Hr($l,u,H,{discrete:!1}),O.target.setPointerCapture(O.pointerId)):(Math.abs(Q)>U||Math.abs(X)>U)&&(w.current=null)}),onPointerUp:ue(r.onPointerUp,O=>{const Q=S.current,X=O.target;if(X.hasPointerCapture(O.pointerId)&&X.releasePointerCapture(O.pointerId),S.current=null,w.current=null,Q){const Z=O.currentTarget,ve={originalEvent:O,delta:Q};Kn(Q,g.swipeDirection,g.swipeThreshold)?Hr(Ul,f,ve,{discrete:!0}):Hr(Ml,p,ve,{discrete:!0}),Z.addEventListener("click",A=>A.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),Wl=r=>{const{__scopeToast:e,children:t,...s}=r,n=hs($r,e),[i,a]=v.useState(!1),[o,l]=v.useState(!1);return Kl(()=>a(!0)),v.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),o?null:d.jsx(ul,{asChild:!0,children:d.jsx(ds,{...s,children:i&&d.jsxs(d.Fragment,{children:[n.label," ",t]})})})},zl="ToastTitle",ua=v.forwardRef((r,e)=>{const{__scopeToast:t,...s}=r;return d.jsx(Xe.div,{...s,ref:e})});ua.displayName=zl;var Hl="ToastDescription",da=v.forwardRef((r,e)=>{const{__scopeToast:t,...s}=r;return d.jsx(Xe.div,{...s,ref:e})});da.displayName=Hl;var ha="ToastAction",fa=v.forwardRef((r,e)=>{const{altText:t,...s}=r;return t.trim()?d.jsx(ma,{altText:t,asChild:!0,children:d.jsx(xn,{...s,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${ha}\`. Expected non-empty \`string\`.`),null)});fa.displayName=ha;var pa="ToastClose",xn=v.forwardRef((r,e)=>{const{__scopeToast:t,...s}=r,n=Bl(pa,t);return d.jsx(ma,{asChild:!0,children:d.jsx(Xe.button,{type:"button",...s,ref:e,onClick:ue(r.onClick,n.onClose)})})});xn.displayName=pa;var ma=v.forwardRef((r,e)=>{const{__scopeToast:t,altText:s,...n}=r;return d.jsx(Xe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...n,ref:e})});function ga(r){const e=[];return Array.from(r.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&e.push(s.textContent),Vl(s)){const n=s.ariaHidden||s.hidden||s.style.display==="none",i=s.dataset.radixToastAnnounceExclude==="";if(!n)if(i){const a=s.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...ga(s))}}),e}function Hr(r,e,t,{discrete:s}){const n=t.originalEvent.currentTarget,i=new CustomEvent(r,{bubbles:!0,cancelable:!0,detail:t});e&&n.addEventListener(r,e,{once:!0}),s?hl(n,i):n.dispatchEvent(i)}var Kn=(r,e,t=0)=>{const s=Math.abs(r.x),n=Math.abs(r.y),i=s>n;return e==="left"||e==="right"?i&&s>t:!i&&n>t};function Kl(r=()=>{}){const e=es(r);dl(()=>{let t=0,s=0;return t=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(s)}},[e])}function Vl(r){return r.nodeType===r.ELEMENT_NODE}function Gl(r){const e=[],t=document.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const n=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||n?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function $s(r){const e=document.activeElement;return r.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var Yl=ia,va=oa,ya=ca,wa=ua,ba=da,xa=fa,_a=xn;function Ea(r){var e,t,s="";if(typeof r=="string"||typeof r=="number")s+=r;else if(typeof r=="object")if(Array.isArray(r)){var n=r.length;for(e=0;e<n;e++)r[e]&&(t=Ea(r[e]))&&(s&&(s+=" "),s+=t)}else for(t in r)r[t]&&(s&&(s+=" "),s+=t);return s}function Sa(){for(var r,e,t=0,s="",n=arguments.length;t<n;t++)(r=arguments[t])&&(e=Ea(r))&&(s&&(s+=" "),s+=e);return s}const Vn=r=>typeof r=="boolean"?`${r}`:r===0?"0":r,Gn=Sa,fs=(r,e)=>t=>{var s;if((e==null?void 0:e.variants)==null)return Gn(r,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:n,defaultVariants:i}=e,a=Object.keys(n).map(c=>{const u=t==null?void 0:t[c],h=i==null?void 0:i[c];if(u===null)return null;const p=Vn(u)||Vn(h);return n[c][p]}),o=t&&Object.entries(t).reduce((c,u)=>{let[h,p]=u;return p===void 0||(c[h]=p),c},{}),l=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((c,u)=>{let{class:h,className:p,...f}=u;return Object.entries(f).every(y=>{let[g,m]=y;return Array.isArray(m)?m.includes({...i,...o}[g]):{...i,...o}[g]===m})?[...c,h,p]:c},[]);return Gn(r,a,l,t==null?void 0:t.class,t==null?void 0:t.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jl=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ta=(...r)=>r.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ql={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xl=v.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:n="",children:i,iconNode:a,...o},l)=>v.createElement("svg",{ref:l,...Ql,width:e,height:e,stroke:r,strokeWidth:s?Number(t)*24/Number(e):t,className:Ta("lucide",n),...o},[...a.map(([c,u])=>v.createElement(c,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=(r,e)=>{const t=v.forwardRef(({className:s,...n},i)=>v.createElement(Xl,{ref:i,iconNode:e,className:Ta(`lucide-${Jl(r)}`,s),...n}));return t.displayName=`${r}`,t};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zl=me("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ec=me("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tc=me("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=me("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _n=me("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rc=me("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sc=me("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nc=me("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=me("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=me("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=me("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=me("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ic=me("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=me("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ac=me("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Sn="-",oc=r=>{const e=cc(r),{conflictingClassGroups:t,conflictingClassGroupModifiers:s}=r;return{getClassGroupId:a=>{const o=a.split(Sn);return o[0]===""&&o.length!==1&&o.shift(),ja(o,e)||lc(a)},getConflictingClassGroupIds:(a,o)=>{const l=t[a]||[];return o&&s[a]?[...l,...s[a]]:l}}},ja=(r,e)=>{var a;if(r.length===0)return e.classGroupId;const t=r[0],s=e.nextPart.get(t),n=s?ja(r.slice(1),s):void 0;if(n)return n;if(e.validators.length===0)return;const i=r.join(Sn);return(a=e.validators.find(({validator:o})=>o(i)))==null?void 0:a.classGroupId},Yn=/^\[(.+)\]$/,lc=r=>{if(Yn.test(r)){const e=Yn.exec(r)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},cc=r=>{const{theme:e,prefix:t}=r,s={nextPart:new Map,validators:[]};return dc(Object.entries(r.classGroups),t).forEach(([i,a])=>{en(a,s,i,e)}),s},en=(r,e,t,s)=>{r.forEach(n=>{if(typeof n=="string"){const i=n===""?e:Jn(e,n);i.classGroupId=t;return}if(typeof n=="function"){if(uc(n)){en(n(s),e,t,s);return}e.validators.push({validator:n,classGroupId:t});return}Object.entries(n).forEach(([i,a])=>{en(a,Jn(e,i),t,s)})})},Jn=(r,e)=>{let t=r;return e.split(Sn).forEach(s=>{t.nextPart.has(s)||t.nextPart.set(s,{nextPart:new Map,validators:[]}),t=t.nextPart.get(s)}),t},uc=r=>r.isThemeGetter,dc=(r,e)=>e?r.map(([t,s])=>{const n=s.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,o])=>[e+a,o])):i);return[t,n]}):r,hc=r=>{if(r<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,s=new Map;const n=(i,a)=>{t.set(i,a),e++,e>r&&(e=0,s=t,t=new Map)};return{get(i){let a=t.get(i);if(a!==void 0)return a;if((a=s.get(i))!==void 0)return n(i,a),a},set(i,a){t.has(i)?t.set(i,a):n(i,a)}}},Ca="!",fc=r=>{const{separator:e,experimentalParseClassName:t}=r,s=e.length===1,n=e[0],i=e.length,a=o=>{const l=[];let c=0,u=0,h;for(let m=0;m<o.length;m++){let x=o[m];if(c===0){if(x===n&&(s||o.slice(m,m+i)===e)){l.push(o.slice(u,m)),u=m+i;continue}if(x==="/"){h=m;continue}}x==="["?c++:x==="]"&&c--}const p=l.length===0?o:o.substring(u),f=p.startsWith(Ca),y=f?p.substring(1):p,g=h&&h>u?h-u:void 0;return{modifiers:l,hasImportantModifier:f,baseClassName:y,maybePostfixModifierPosition:g}};return t?o=>t({className:o,parseClassName:a}):a},pc=r=>{if(r.length<=1)return r;const e=[];let t=[];return r.forEach(s=>{s[0]==="["?(e.push(...t.sort(),s),t=[]):t.push(s)}),e.push(...t.sort()),e},mc=r=>({cache:hc(r.cacheSize),parseClassName:fc(r),...oc(r)}),gc=/\s+/,vc=(r,e)=>{const{parseClassName:t,getClassGroupId:s,getConflictingClassGroupIds:n}=e,i=[],a=r.trim().split(gc);let o="";for(let l=a.length-1;l>=0;l-=1){const c=a[l],{modifiers:u,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:f}=t(c);let y=!!f,g=s(y?p.substring(0,f):p);if(!g){if(!y){o=c+(o.length>0?" "+o:o);continue}if(g=s(p),!g){o=c+(o.length>0?" "+o:o);continue}y=!1}const m=pc(u).join(":"),x=h?m+Ca:m,b=x+g;if(i.includes(b))continue;i.push(b);const w=n(g,y);for(let S=0;S<w.length;++S){const T=w[S];i.push(x+T)}o=c+(o.length>0?" "+o:o)}return o};function yc(){let r=0,e,t,s="";for(;r<arguments.length;)(e=arguments[r++])&&(t=Pa(e))&&(s&&(s+=" "),s+=t);return s}const Pa=r=>{if(typeof r=="string")return r;let e,t="";for(let s=0;s<r.length;s++)r[s]&&(e=Pa(r[s]))&&(t&&(t+=" "),t+=e);return t};function wc(r,...e){let t,s,n,i=a;function a(l){const c=e.reduce((u,h)=>h(u),r());return t=mc(c),s=t.cache.get,n=t.cache.set,i=o,o(l)}function o(l){const c=s(l);if(c)return c;const u=vc(l,t);return n(l,u),u}return function(){return i(yc.apply(null,arguments))}}const V=r=>{const e=t=>t[r]||[];return e.isThemeGetter=!0,e},Oa=/^\[(?:([a-z-]+):)?(.+)\]$/i,bc=/^\d+\/\d+$/,xc=new Set(["px","full","screen"]),_c=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Ec=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Sc=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Tc=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,kc=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ve=r=>Qt(r)||xc.has(r)||bc.test(r),rt=r=>cr(r,"length",Ic),Qt=r=>!!r&&!Number.isNaN(Number(r)),Ds=r=>cr(r,"number",Qt),gr=r=>!!r&&Number.isInteger(Number(r)),jc=r=>r.endsWith("%")&&Qt(r.slice(0,-1)),$=r=>Oa.test(r),st=r=>_c.test(r),Cc=new Set(["length","size","percentage"]),Pc=r=>cr(r,Cc,Ra),Oc=r=>cr(r,"position",Ra),Rc=new Set(["image","url"]),Ac=r=>cr(r,Rc,$c),Nc=r=>cr(r,"",Lc),vr=()=>!0,cr=(r,e,t)=>{const s=Oa.exec(r);return s?s[1]?typeof e=="string"?s[1]===e:e.has(s[1]):t(s[2]):!1},Ic=r=>Ec.test(r)&&!Sc.test(r),Ra=()=>!1,Lc=r=>Tc.test(r),$c=r=>kc.test(r),Dc=()=>{const r=V("colors"),e=V("spacing"),t=V("blur"),s=V("brightness"),n=V("borderColor"),i=V("borderRadius"),a=V("borderSpacing"),o=V("borderWidth"),l=V("contrast"),c=V("grayscale"),u=V("hueRotate"),h=V("invert"),p=V("gap"),f=V("gradientColorStops"),y=V("gradientColorStopPositions"),g=V("inset"),m=V("margin"),x=V("opacity"),b=V("padding"),w=V("saturate"),S=V("scale"),T=V("sepia"),E=V("skew"),j=V("space"),D=V("translate"),C=()=>["auto","contain","none"],G=()=>["auto","hidden","clip","visible","scroll"],q=()=>["auto",$,e],R=()=>[$,e],ge=()=>["",Ve,rt],O=()=>["auto",Qt,$],Q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],X=()=>["solid","dashed","dotted","double","none"],Z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ve=()=>["start","end","center","between","around","evenly","stretch"],A=()=>["","0",$],oe=()=>["auto","avoid","all","avoid-page","page","left","right","column"],he=()=>[Qt,$];return{cacheSize:500,separator:":",theme:{colors:[vr],spacing:[Ve,rt],blur:["none","",st,$],brightness:he(),borderColor:[r],borderRadius:["none","","full",st,$],borderSpacing:R(),borderWidth:ge(),contrast:he(),grayscale:A(),hueRotate:he(),invert:A(),gap:R(),gradientColorStops:[r],gradientColorStopPositions:[jc,rt],inset:q(),margin:q(),opacity:he(),padding:R(),saturate:he(),scale:he(),sepia:A(),skew:he(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",$]}],container:["container"],columns:[{columns:[st]}],"break-after":[{"break-after":oe()}],"break-before":[{"break-before":oe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Q(),$]}],overflow:[{overflow:G()}],"overflow-x":[{"overflow-x":G()}],"overflow-y":[{"overflow-y":G()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",gr,$]}],basis:[{basis:q()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",$]}],grow:[{grow:A()}],shrink:[{shrink:A()}],order:[{order:["first","last","none",gr,$]}],"grid-cols":[{"grid-cols":[vr]}],"col-start-end":[{col:["auto",{span:["full",gr,$]},$]}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":[vr]}],"row-start-end":[{row:["auto",{span:[gr,$]},$]}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",$]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",$]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...ve()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ve(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ve(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[m]}],mx:[{mx:[m]}],my:[{my:[m]}],ms:[{ms:[m]}],me:[{me:[m]}],mt:[{mt:[m]}],mr:[{mr:[m]}],mb:[{mb:[m]}],ml:[{ml:[m]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",$,e]}],"min-w":[{"min-w":[$,e,"min","max","fit"]}],"max-w":[{"max-w":[$,e,"none","full","min","max","fit","prose",{screen:[st]},st]}],h:[{h:[$,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[$,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[$,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[$,e,"auto","min","max","fit"]}],"font-size":[{text:["base",st,rt]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ds]}],"font-family":[{font:[vr]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",$]}],"line-clamp":[{"line-clamp":["none",Qt,Ds]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ve,$]}],"list-image":[{"list-image":["none",$]}],"list-style-type":[{list:["none","disc","decimal",$]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[r]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[r]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...X(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ve,rt]}],"underline-offset":[{"underline-offset":["auto",Ve,$]}],"text-decoration-color":[{decoration:[r]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",$]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",$]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Q(),Oc]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Pc]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Ac]}],"bg-color":[{bg:[r]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...X(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:X()}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-s":[{"border-s":[n]}],"border-color-e":[{"border-e":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:["",...X()]}],"outline-offset":[{"outline-offset":[Ve,$]}],"outline-w":[{outline:[Ve,rt]}],"outline-color":[{outline:[r]}],"ring-w":[{ring:ge()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[r]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Ve,rt]}],"ring-offset-color":[{"ring-offset":[r]}],shadow:[{shadow:["","inner","none",st,Nc]}],"shadow-color":[{shadow:[vr]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...Z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Z()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[s]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",st,$]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[w]}],sepia:[{sepia:[T]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[T]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",$]}],duration:[{duration:he()}],ease:[{ease:["linear","in","out","in-out",$]}],delay:[{delay:he()}],animate:[{animate:["none","spin","ping","pulse","bounce",$]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[gr,$]}],"translate-x":[{"translate-x":[D]}],"translate-y":[{"translate-y":[D]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",$]}],accent:[{accent:["auto",r]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",$]}],"caret-color":[{caret:[r]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",$]}],fill:[{fill:[r,"none"]}],"stroke-w":[{stroke:[Ve,rt,Ds]}],stroke:[{stroke:[r,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Mc=wc(Dc);function re(...r){return Mc(Sa(r))}const Uc=Yl,Aa=v.forwardRef(({className:r,...e},t)=>d.jsx(va,{ref:t,className:re("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",r),...e}));Aa.displayName=va.displayName;const Fc=fs("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Na=v.forwardRef(({className:r,variant:e,...t},s)=>d.jsx(ya,{ref:s,className:re(Fc({variant:e}),r),...t}));Na.displayName=ya.displayName;const Bc=v.forwardRef(({className:r,...e},t)=>d.jsx(xa,{ref:t,className:re("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",r),...e}));Bc.displayName=xa.displayName;const Ia=v.forwardRef(({className:r,...e},t)=>d.jsx(_a,{ref:t,className:re("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",r),"toast-close":"",...e,children:d.jsx(ac,{className:"h-4 w-4"})}));Ia.displayName=_a.displayName;const La=v.forwardRef(({className:r,...e},t)=>d.jsx(wa,{ref:t,className:re("text-sm font-semibold",r),...e}));La.displayName=wa.displayName;const $a=v.forwardRef(({className:r,...e},t)=>d.jsx(ba,{ref:t,className:re("text-sm opacity-90",r),...e}));$a.displayName=ba.displayName;function qc(){const{toasts:r}=Cl();return d.jsxs(Uc,{children:[r.map(function({id:e,title:t,description:s,action:n,...i}){return d.jsxs(Na,{...i,children:[d.jsxs("div",{className:"grid gap-1",children:[t&&d.jsx(La,{children:t}),s&&d.jsx($a,{children:s})]}),n,d.jsx(Ia,{})]},e)}),d.jsx(Aa,{})]})}var Wc=(r,e,t,s,n,i,a,o)=>{let l=document.documentElement,c=["light","dark"];function u(f){(Array.isArray(r)?r:[r]).forEach(y=>{let g=y==="class",m=g&&i?n.map(x=>i[x]||x):n;g?(l.classList.remove(...m),l.classList.add(i&&i[f]?i[f]:f)):l.setAttribute(y,f)}),h(f)}function h(f){o&&c.includes(f)&&(l.style.colorScheme=f)}function p(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(s)u(s);else try{let f=localStorage.getItem(e)||t,y=a&&f==="system"?p():f;u(y)}catch{}},Qn=["light","dark"],Da="(prefers-color-scheme: dark)",zc=typeof window>"u",Tn=v.createContext(void 0),Hc={setTheme:r=>{},themes:[]},Ma=()=>{var r;return(r=v.useContext(Tn))!=null?r:Hc},Kc=r=>v.useContext(Tn)?v.createElement(v.Fragment,null,r.children):v.createElement(Gc,{...r}),Vc=["light","dark"],Gc=({forcedTheme:r,disableTransitionOnChange:e=!1,enableSystem:t=!0,enableColorScheme:s=!0,storageKey:n="theme",themes:i=Vc,defaultTheme:a=t?"system":"light",attribute:o="data-theme",value:l,children:c,nonce:u,scriptProps:h})=>{let[p,f]=v.useState(()=>Jc(n,a)),[y,g]=v.useState(()=>p==="system"?Ms():p),m=l?Object.values(l):i,x=v.useCallback(T=>{let E=T;if(!E)return;T==="system"&&t&&(E=Ms());let j=l?l[E]:E,D=e?Qc(u):null,C=document.documentElement,G=q=>{q==="class"?(C.classList.remove(...m),j&&C.classList.add(j)):q.startsWith("data-")&&(j?C.setAttribute(q,j):C.removeAttribute(q))};if(Array.isArray(o)?o.forEach(G):G(o),s){let q=Qn.includes(a)?a:null,R=Qn.includes(E)?E:q;C.style.colorScheme=R}D==null||D()},[u]),b=v.useCallback(T=>{let E=typeof T=="function"?T(p):T;f(E);try{localStorage.setItem(n,E)}catch{}},[p]),w=v.useCallback(T=>{let E=Ms(T);g(E),p==="system"&&t&&!r&&x("system")},[p,r]);v.useEffect(()=>{let T=window.matchMedia(Da);return T.addListener(w),w(T),()=>T.removeListener(w)},[w]),v.useEffect(()=>{let T=E=>{E.key===n&&(E.newValue?f(E.newValue):b(a))};return window.addEventListener("storage",T),()=>window.removeEventListener("storage",T)},[b]),v.useEffect(()=>{x(r??p)},[r,p]);let S=v.useMemo(()=>({theme:p,setTheme:b,forcedTheme:r,resolvedTheme:p==="system"?y:p,themes:t?[...i,"system"]:i,systemTheme:t?y:void 0}),[p,b,r,y,t,i]);return v.createElement(Tn.Provider,{value:S},v.createElement(Yc,{forcedTheme:r,storageKey:n,attribute:o,enableSystem:t,enableColorScheme:s,defaultTheme:a,value:l,themes:i,nonce:u,scriptProps:h}),c)},Yc=v.memo(({forcedTheme:r,storageKey:e,attribute:t,enableSystem:s,enableColorScheme:n,defaultTheme:i,value:a,themes:o,nonce:l,scriptProps:c})=>{let u=JSON.stringify([t,e,i,r,o,a,s,n]).slice(1,-1);return v.createElement("script",{...c,suppressHydrationWarning:!0,nonce:typeof window>"u"?l:"",dangerouslySetInnerHTML:{__html:`(${Wc.toString()})(${u})`}})}),Jc=(r,e)=>{if(zc)return;let t;try{t=localStorage.getItem(r)||void 0}catch{}return t||e},Qc=r=>{let e=document.createElement("style");return r&&e.setAttribute("nonce",r),e.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},Ms=r=>(r||(r=window.matchMedia(Da)),r.matches?"dark":"light"),Xc=r=>{switch(r){case"success":return tu;case"info":return su;case"warning":return ru;case"error":return nu;default:return null}},Zc=Array(12).fill(0),eu=({visible:r,className:e})=>k.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":r},k.createElement("div",{className:"sonner-spinner"},Zc.map((t,s)=>k.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),tu=k.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},k.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),ru=k.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},k.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),su=k.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},k.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),nu=k.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},k.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),iu=k.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},k.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),k.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),au=()=>{let[r,e]=k.useState(document.hidden);return k.useEffect(()=>{let t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),r},tn=1,ou=class{constructor(){this.subscribe=r=>(this.subscribers.push(r),()=>{let e=this.subscribers.indexOf(r);this.subscribers.splice(e,1)}),this.publish=r=>{this.subscribers.forEach(e=>e(r))},this.addToast=r=>{this.publish(r),this.toasts=[...this.toasts,r]},this.create=r=>{var e;let{message:t,...s}=r,n=typeof(r==null?void 0:r.id)=="number"||((e=r.id)==null?void 0:e.length)>0?r.id:tn++,i=this.toasts.find(o=>o.id===n),a=r.dismissible===void 0?!0:r.dismissible;return this.dismissedToasts.has(n)&&this.dismissedToasts.delete(n),i?this.toasts=this.toasts.map(o=>o.id===n?(this.publish({...o,...r,id:n,title:t}),{...o,...r,id:n,dismissible:a,title:t}):o):this.addToast({title:t,...s,dismissible:a,id:n}),n},this.dismiss=r=>(this.dismissedToasts.add(r),r||this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:r,dismiss:!0})),r),this.message=(r,e)=>this.create({...e,message:r}),this.error=(r,e)=>this.create({...e,message:r,type:"error"}),this.success=(r,e)=>this.create({...e,type:"success",message:r}),this.info=(r,e)=>this.create({...e,type:"info",message:r}),this.warning=(r,e)=>this.create({...e,type:"warning",message:r}),this.loading=(r,e)=>this.create({...e,type:"loading",message:r}),this.promise=(r,e)=>{if(!e)return;let t;e.loading!==void 0&&(t=this.create({...e,promise:r,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let s=r instanceof Promise?r:r(),n=t!==void 0,i,a=s.then(async l=>{if(i=["resolve",l],k.isValidElement(l))n=!1,this.create({id:t,type:"default",message:l});else if(cu(l)&&!l.ok){n=!1;let c=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,u=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:t,type:"error",message:c,description:u})}else if(e.success!==void 0){n=!1;let c=typeof e.success=="function"?await e.success(l):e.success,u=typeof e.description=="function"?await e.description(l):e.description;this.create({id:t,type:"success",message:c,description:u})}}).catch(async l=>{if(i=["reject",l],e.error!==void 0){n=!1;let c=typeof e.error=="function"?await e.error(l):e.error,u=typeof e.description=="function"?await e.description(l):e.description;this.create({id:t,type:"error",message:c,description:u})}}).finally(()=>{var l;n&&(this.dismiss(t),t=void 0),(l=e.finally)==null||l.call(e)}),o=()=>new Promise((l,c)=>a.then(()=>i[0]==="reject"?c(i[1]):l(i[1])).catch(c));return typeof t!="string"&&typeof t!="number"?{unwrap:o}:Object.assign(t,{unwrap:o})},this.custom=(r,e)=>{let t=(e==null?void 0:e.id)||tn++;return this.create({jsx:r(t),id:t,...e}),t},this.getActiveToasts=()=>this.toasts.filter(r=>!this.dismissedToasts.has(r.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},be=new ou,lu=(r,e)=>{let t=(e==null?void 0:e.id)||tn++;return be.addToast({title:r,...e,id:t}),t},cu=r=>r&&typeof r=="object"&&"ok"in r&&typeof r.ok=="boolean"&&"status"in r&&typeof r.status=="number",uu=lu,du=()=>be.toasts,hu=()=>be.getActiveToasts(),B=Object.assign(uu,{success:be.success,info:be.info,warning:be.warning,error:be.error,custom:be.custom,message:be.message,promise:be.promise,dismiss:be.dismiss,loading:be.loading},{getHistory:du,getToasts:hu});function fu(r,{insertAt:e}={}){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",e==="top"&&t.firstChild?t.insertBefore(s,t.firstChild):t.appendChild(s),s.styleSheet?s.styleSheet.cssText=r:s.appendChild(document.createTextNode(r))}fu(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Kr(r){return r.label!==void 0}var pu=3,mu="32px",gu="16px",Xn=4e3,vu=356,yu=14,wu=20,bu=200;function Le(...r){return r.filter(Boolean).join(" ")}function xu(r){let[e,t]=r.split("-"),s=[];return e&&s.push(e),t&&s.push(t),s}var _u=r=>{var e,t,s,n,i,a,o,l,c,u,h;let{invert:p,toast:f,unstyled:y,interacting:g,setHeights:m,visibleToasts:x,heights:b,index:w,toasts:S,expanded:T,removeToast:E,defaultRichColors:j,closeButton:D,style:C,cancelButtonStyle:G,actionButtonStyle:q,className:R="",descriptionClassName:ge="",duration:O,position:Q,gap:X,loadingIcon:Z,expandByDefault:ve,classNames:A,icons:oe,closeButtonAriaLabel:he="Close toast",pauseWhenPageIsHidden:U}=r,[F,H]=k.useState(null),[ye,Mt]=k.useState(null),[ee,Cs]=k.useState(!1),[fr,qr]=k.useState(!1),[pr,Ps]=k.useState(!1),[Ln,Vo]=k.useState(!1),[Go,$n]=k.useState(!1),[Yo,Os]=k.useState(0),[Jo,Dn]=k.useState(0),mr=k.useRef(f.duration||O||Xn),Mn=k.useRef(null),wt=k.useRef(null),Qo=w===0,Xo=w+1<=x,ke=f.type,Ut=f.dismissible!==!1,Zo=f.className||"",el=f.descriptionClassName||"",Wr=k.useMemo(()=>b.findIndex(I=>I.toastId===f.id)||0,[b,f.id]),tl=k.useMemo(()=>{var I;return(I=f.closeButton)!=null?I:D},[f.closeButton,D]),Un=k.useMemo(()=>f.duration||O||Xn,[f.duration,O]),Rs=k.useRef(0),Ft=k.useRef(0),Fn=k.useRef(0),Bt=k.useRef(null),[rl,sl]=Q.split("-"),Bn=k.useMemo(()=>b.reduce((I,z,Y)=>Y>=Wr?I:I+z.height,0),[b,Wr]),qn=au(),nl=f.invert||p,As=ke==="loading";Ft.current=k.useMemo(()=>Wr*X+Bn,[Wr,Bn]),k.useEffect(()=>{mr.current=Un},[Un]),k.useEffect(()=>{Cs(!0)},[]),k.useEffect(()=>{let I=wt.current;if(I){let z=I.getBoundingClientRect().height;return Dn(z),m(Y=>[{toastId:f.id,height:z,position:f.position},...Y]),()=>m(Y=>Y.filter(Ae=>Ae.toastId!==f.id))}},[m,f.id]),k.useLayoutEffect(()=>{if(!ee)return;let I=wt.current,z=I.style.height;I.style.height="auto";let Y=I.getBoundingClientRect().height;I.style.height=z,Dn(Y),m(Ae=>Ae.find(Ne=>Ne.toastId===f.id)?Ae.map(Ne=>Ne.toastId===f.id?{...Ne,height:Y}:Ne):[{toastId:f.id,height:Y,position:f.position},...Ae])},[ee,f.title,f.description,m,f.id]);let Ze=k.useCallback(()=>{qr(!0),Os(Ft.current),m(I=>I.filter(z=>z.toastId!==f.id)),setTimeout(()=>{E(f)},bu)},[f,E,m,Ft]);k.useEffect(()=>{if(f.promise&&ke==="loading"||f.duration===1/0||f.type==="loading")return;let I;return T||g||U&&qn?(()=>{if(Fn.current<Rs.current){let z=new Date().getTime()-Rs.current;mr.current=mr.current-z}Fn.current=new Date().getTime()})():mr.current!==1/0&&(Rs.current=new Date().getTime(),I=setTimeout(()=>{var z;(z=f.onAutoClose)==null||z.call(f,f),Ze()},mr.current)),()=>clearTimeout(I)},[T,g,f,ke,U,qn,Ze]),k.useEffect(()=>{f.delete&&Ze()},[Ze,f.delete]);function il(){var I,z,Y;return oe!=null&&oe.loading?k.createElement("div",{className:Le(A==null?void 0:A.loader,(I=f==null?void 0:f.classNames)==null?void 0:I.loader,"sonner-loader"),"data-visible":ke==="loading"},oe.loading):Z?k.createElement("div",{className:Le(A==null?void 0:A.loader,(z=f==null?void 0:f.classNames)==null?void 0:z.loader,"sonner-loader"),"data-visible":ke==="loading"},Z):k.createElement(eu,{className:Le(A==null?void 0:A.loader,(Y=f==null?void 0:f.classNames)==null?void 0:Y.loader),visible:ke==="loading"})}return k.createElement("li",{tabIndex:0,ref:wt,className:Le(R,Zo,A==null?void 0:A.toast,(e=f==null?void 0:f.classNames)==null?void 0:e.toast,A==null?void 0:A.default,A==null?void 0:A[ke],(t=f==null?void 0:f.classNames)==null?void 0:t[ke]),"data-sonner-toast":"","data-rich-colors":(s=f.richColors)!=null?s:j,"data-styled":!(f.jsx||f.unstyled||y),"data-mounted":ee,"data-promise":!!f.promise,"data-swiped":Go,"data-removed":fr,"data-visible":Xo,"data-y-position":rl,"data-x-position":sl,"data-index":w,"data-front":Qo,"data-swiping":pr,"data-dismissible":Ut,"data-type":ke,"data-invert":nl,"data-swipe-out":Ln,"data-swipe-direction":ye,"data-expanded":!!(T||ve&&ee),style:{"--index":w,"--toasts-before":w,"--z-index":S.length-w,"--offset":`${fr?Yo:Ft.current}px`,"--initial-height":ve?"auto":`${Jo}px`,...C,...f.style},onDragEnd:()=>{Ps(!1),H(null),Bt.current=null},onPointerDown:I=>{As||!Ut||(Mn.current=new Date,Os(Ft.current),I.target.setPointerCapture(I.pointerId),I.target.tagName!=="BUTTON"&&(Ps(!0),Bt.current={x:I.clientX,y:I.clientY}))},onPointerUp:()=>{var I,z,Y,Ae;if(Ln||!Ut)return;Bt.current=null;let Ne=Number(((I=wt.current)==null?void 0:I.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),et=Number(((z=wt.current)==null?void 0:z.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),bt=new Date().getTime()-((Y=Mn.current)==null?void 0:Y.getTime()),Ie=F==="x"?Ne:et,tt=Math.abs(Ie)/bt;if(Math.abs(Ie)>=wu||tt>.11){Os(Ft.current),(Ae=f.onDismiss)==null||Ae.call(f,f),Mt(F==="x"?Ne>0?"right":"left":et>0?"down":"up"),Ze(),Vo(!0),$n(!1);return}Ps(!1),H(null)},onPointerMove:I=>{var z,Y,Ae,Ne;if(!Bt.current||!Ut||((z=window.getSelection())==null?void 0:z.toString().length)>0)return;let et=I.clientY-Bt.current.y,bt=I.clientX-Bt.current.x,Ie=(Y=r.swipeDirections)!=null?Y:xu(Q);!F&&(Math.abs(bt)>1||Math.abs(et)>1)&&H(Math.abs(bt)>Math.abs(et)?"x":"y");let tt={x:0,y:0};F==="y"?(Ie.includes("top")||Ie.includes("bottom"))&&(Ie.includes("top")&&et<0||Ie.includes("bottom")&&et>0)&&(tt.y=et):F==="x"&&(Ie.includes("left")||Ie.includes("right"))&&(Ie.includes("left")&&bt<0||Ie.includes("right")&&bt>0)&&(tt.x=bt),(Math.abs(tt.x)>0||Math.abs(tt.y)>0)&&$n(!0),(Ae=wt.current)==null||Ae.style.setProperty("--swipe-amount-x",`${tt.x}px`),(Ne=wt.current)==null||Ne.style.setProperty("--swipe-amount-y",`${tt.y}px`)}},tl&&!f.jsx?k.createElement("button",{"aria-label":he,"data-disabled":As,"data-close-button":!0,onClick:As||!Ut?()=>{}:()=>{var I;Ze(),(I=f.onDismiss)==null||I.call(f,f)},className:Le(A==null?void 0:A.closeButton,(n=f==null?void 0:f.classNames)==null?void 0:n.closeButton)},(i=oe==null?void 0:oe.close)!=null?i:iu):null,f.jsx||v.isValidElement(f.title)?f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title:k.createElement(k.Fragment,null,ke||f.icon||f.promise?k.createElement("div",{"data-icon":"",className:Le(A==null?void 0:A.icon,(a=f==null?void 0:f.classNames)==null?void 0:a.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||il():null,f.type!=="loading"?f.icon||(oe==null?void 0:oe[ke])||Xc(ke):null):null,k.createElement("div",{"data-content":"",className:Le(A==null?void 0:A.content,(o=f==null?void 0:f.classNames)==null?void 0:o.content)},k.createElement("div",{"data-title":"",className:Le(A==null?void 0:A.title,(l=f==null?void 0:f.classNames)==null?void 0:l.title)},typeof f.title=="function"?f.title():f.title),f.description?k.createElement("div",{"data-description":"",className:Le(ge,el,A==null?void 0:A.description,(c=f==null?void 0:f.classNames)==null?void 0:c.description)},typeof f.description=="function"?f.description():f.description):null),v.isValidElement(f.cancel)?f.cancel:f.cancel&&Kr(f.cancel)?k.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||G,onClick:I=>{var z,Y;Kr(f.cancel)&&Ut&&((Y=(z=f.cancel).onClick)==null||Y.call(z,I),Ze())},className:Le(A==null?void 0:A.cancelButton,(u=f==null?void 0:f.classNames)==null?void 0:u.cancelButton)},f.cancel.label):null,v.isValidElement(f.action)?f.action:f.action&&Kr(f.action)?k.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||q,onClick:I=>{var z,Y;Kr(f.action)&&((Y=(z=f.action).onClick)==null||Y.call(z,I),!I.defaultPrevented&&Ze())},className:Le(A==null?void 0:A.actionButton,(h=f==null?void 0:f.classNames)==null?void 0:h.actionButton)},f.action.label):null))};function Zn(){if(typeof window>"u"||typeof document>"u")return"ltr";let r=document.documentElement.getAttribute("dir");return r==="auto"||!r?window.getComputedStyle(document.documentElement).direction:r}function Eu(r,e){let t={};return[r,e].forEach((s,n)=>{let i=n===1,a=i?"--mobile-offset":"--offset",o=i?gu:mu;function l(c){["top","right","bottom","left"].forEach(u=>{t[`${a}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof s=="number"||typeof s=="string"?l(s):typeof s=="object"?["top","right","bottom","left"].forEach(c=>{s[c]===void 0?t[`${a}-${c}`]=o:t[`${a}-${c}`]=typeof s[c]=="number"?`${s[c]}px`:s[c]}):l(o)}),t}var Su=v.forwardRef(function(r,e){let{invert:t,position:s="bottom-right",hotkey:n=["altKey","KeyT"],expand:i,closeButton:a,className:o,offset:l,mobileOffset:c,theme:u="light",richColors:h,duration:p,style:f,visibleToasts:y=pu,toastOptions:g,dir:m=Zn(),gap:x=yu,loadingIcon:b,icons:w,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:T}=r,[E,j]=k.useState([]),D=k.useMemo(()=>Array.from(new Set([s].concat(E.filter(U=>U.position).map(U=>U.position)))),[E,s]),[C,G]=k.useState([]),[q,R]=k.useState(!1),[ge,O]=k.useState(!1),[Q,X]=k.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Z=k.useRef(null),ve=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),A=k.useRef(null),oe=k.useRef(!1),he=k.useCallback(U=>{j(F=>{var H;return(H=F.find(ye=>ye.id===U.id))!=null&&H.delete||be.dismiss(U.id),F.filter(({id:ye})=>ye!==U.id)})},[]);return k.useEffect(()=>be.subscribe(U=>{if(U.dismiss){j(F=>F.map(H=>H.id===U.id?{...H,delete:!0}:H));return}setTimeout(()=>{bl.flushSync(()=>{j(F=>{let H=F.findIndex(ye=>ye.id===U.id);return H!==-1?[...F.slice(0,H),{...F[H],...U},...F.slice(H+1)]:[U,...F]})})})}),[]),k.useEffect(()=>{if(u!=="system"){X(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?X("dark"):X("light")),typeof window>"u")return;let U=window.matchMedia("(prefers-color-scheme: dark)");try{U.addEventListener("change",({matches:F})=>{X(F?"dark":"light")})}catch{U.addListener(({matches:H})=>{try{X(H?"dark":"light")}catch(ye){console.error(ye)}})}},[u]),k.useEffect(()=>{E.length<=1&&R(!1)},[E]),k.useEffect(()=>{let U=F=>{var H,ye;n.every(Mt=>F[Mt]||F.code===Mt)&&(R(!0),(H=Z.current)==null||H.focus()),F.code==="Escape"&&(document.activeElement===Z.current||(ye=Z.current)!=null&&ye.contains(document.activeElement))&&R(!1)};return document.addEventListener("keydown",U),()=>document.removeEventListener("keydown",U)},[n]),k.useEffect(()=>{if(Z.current)return()=>{A.current&&(A.current.focus({preventScroll:!0}),A.current=null,oe.current=!1)}},[Z.current]),k.createElement("section",{ref:e,"aria-label":`${S} ${ve}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},D.map((U,F)=>{var H;let[ye,Mt]=U.split("-");return E.length?k.createElement("ol",{key:U,dir:m==="auto"?Zn():m,tabIndex:-1,ref:Z,className:o,"data-sonner-toaster":!0,"data-theme":Q,"data-y-position":ye,"data-lifted":q&&E.length>1&&!i,"data-x-position":Mt,style:{"--front-toast-height":`${((H=C[0])==null?void 0:H.height)||0}px`,"--width":`${vu}px`,"--gap":`${x}px`,...f,...Eu(l,c)},onBlur:ee=>{oe.current&&!ee.currentTarget.contains(ee.relatedTarget)&&(oe.current=!1,A.current&&(A.current.focus({preventScroll:!0}),A.current=null))},onFocus:ee=>{ee.target instanceof HTMLElement&&ee.target.dataset.dismissible==="false"||oe.current||(oe.current=!0,A.current=ee.relatedTarget)},onMouseEnter:()=>R(!0),onMouseMove:()=>R(!0),onMouseLeave:()=>{ge||R(!1)},onDragEnd:()=>R(!1),onPointerDown:ee=>{ee.target instanceof HTMLElement&&ee.target.dataset.dismissible==="false"||O(!0)},onPointerUp:()=>O(!1)},E.filter(ee=>!ee.position&&F===0||ee.position===U).map((ee,Cs)=>{var fr,qr;return k.createElement(_u,{key:ee.id,icons:w,index:Cs,toast:ee,defaultRichColors:h,duration:(fr=g==null?void 0:g.duration)!=null?fr:p,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:t,visibleToasts:y,closeButton:(qr=g==null?void 0:g.closeButton)!=null?qr:a,interacting:ge,position:U,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:he,toasts:E.filter(pr=>pr.position==ee.position),heights:C.filter(pr=>pr.position==ee.position),setHeights:G,expandByDefault:i,gap:x,loadingIcon:b,expanded:q,pauseWhenPageIsHidden:T,swipeDirections:r.swipeDirections})})):null}))});const Tu=({...r})=>{const{theme:e="system"}=Ma();return d.jsx(Su,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...r})};var[ps,_g]=Ji("Tooltip",[Xi]),kn=Xi(),Ua="TooltipProvider",ku=700,ei="tooltip.open",[ju,Fa]=ps(Ua),Ba=r=>{const{__scopeTooltip:e,delayDuration:t=ku,skipDelayDuration:s=300,disableHoverableContent:n=!1,children:i}=r,a=v.useRef(!0),o=v.useRef(!1),l=v.useRef(0);return v.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),d.jsx(ju,{scope:e,isOpenDelayedRef:a,delayDuration:t,onOpen:v.useCallback(()=>{window.clearTimeout(l.current),a.current=!1},[]),onClose:v.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.current=!0,s)},[s]),isPointerInTransitRef:o,onPointerInTransitChange:v.useCallback(c=>{o.current=c},[]),disableHoverableContent:n,children:i})};Ba.displayName=Ua;var qa="Tooltip",[Eg,ms]=ps(qa),rn="TooltipTrigger",Cu=v.forwardRef((r,e)=>{const{__scopeTooltip:t,...s}=r,n=ms(rn,t),i=Fa(rn,t),a=kn(t),o=v.useRef(null),l=us(e,o,n.onTriggerChange),c=v.useRef(!1),u=v.useRef(!1),h=v.useCallback(()=>c.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),d.jsx(fl,{asChild:!0,...a,children:d.jsx(Xe.button,{"aria-describedby":n.open?n.contentId:void 0,"data-state":n.stateAttribute,...s,ref:l,onPointerMove:ue(r.onPointerMove,p=>{p.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(n.onTriggerEnter(),u.current=!0)}),onPointerLeave:ue(r.onPointerLeave,()=>{n.onTriggerLeave(),u.current=!1}),onPointerDown:ue(r.onPointerDown,()=>{n.open&&n.onClose(),c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:ue(r.onFocus,()=>{c.current||n.onOpen()}),onBlur:ue(r.onBlur,n.onClose),onClick:ue(r.onClick,n.onClose)})})});Cu.displayName=rn;var Pu="TooltipPortal",[Sg,Ou]=ps(Pu,{forceMount:void 0}),or="TooltipContent",Wa=v.forwardRef((r,e)=>{const t=Ou(or,r.__scopeTooltip),{forceMount:s=t.forceMount,side:n="top",...i}=r,a=ms(or,r.__scopeTooltip);return d.jsx(Qi,{present:s||a.open,children:a.disableHoverableContent?d.jsx(za,{side:n,...i,ref:e}):d.jsx(Ru,{side:n,...i,ref:e})})}),Ru=v.forwardRef((r,e)=>{const t=ms(or,r.__scopeTooltip),s=Fa(or,r.__scopeTooltip),n=v.useRef(null),i=us(e,n),[a,o]=v.useState(null),{trigger:l,onClose:c}=t,u=n.current,{onPointerInTransitChange:h}=s,p=v.useCallback(()=>{o(null),h(!1)},[h]),f=v.useCallback((y,g)=>{const m=y.currentTarget,x={x:y.clientX,y:y.clientY},b=$u(x,m.getBoundingClientRect()),w=Du(x,b),S=Mu(g.getBoundingClientRect()),T=Fu([...w,...S]);o(T),h(!0)},[h]);return v.useEffect(()=>()=>p(),[p]),v.useEffect(()=>{if(l&&u){const y=m=>f(m,u),g=m=>f(m,l);return l.addEventListener("pointerleave",y),u.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",y),u.removeEventListener("pointerleave",g)}}},[l,u,f,p]),v.useEffect(()=>{if(a){const y=g=>{const m=g.target,x={x:g.clientX,y:g.clientY},b=(l==null?void 0:l.contains(m))||(u==null?void 0:u.contains(m)),w=!Uu(x,a);b?p():w&&(p(),c())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[l,u,a,c,p]),d.jsx(za,{...r,ref:i})}),[Au,Nu]=ps(qa,{isInside:!1}),Iu=vl("TooltipContent"),za=v.forwardRef((r,e)=>{const{__scopeTooltip:t,children:s,"aria-label":n,onEscapeKeyDown:i,onPointerDownOutside:a,...o}=r,l=ms(or,t),c=kn(t),{onClose:u}=l;return v.useEffect(()=>(document.addEventListener(ei,u),()=>document.removeEventListener(ei,u)),[u]),v.useEffect(()=>{if(l.trigger){const h=p=>{const f=p.target;f!=null&&f.contains(l.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,u]),d.jsx(pl,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:h=>h.preventDefault(),onDismiss:u,children:d.jsxs(ml,{"data-state":l.stateAttribute,...c,...o,ref:e,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(Iu,{children:s}),d.jsx(Au,{scope:t,isInside:!0,children:d.jsx(Rl,{id:l.contentId,role:"tooltip",children:n||s})})]})})});Wa.displayName=or;var Ha="TooltipArrow",Lu=v.forwardRef((r,e)=>{const{__scopeTooltip:t,...s}=r,n=kn(t);return Nu(Ha,t).isInside?null:d.jsx(gl,{...n,...s,ref:e})});Lu.displayName=Ha;function $u(r,e){const t=Math.abs(e.top-r.y),s=Math.abs(e.bottom-r.y),n=Math.abs(e.right-r.x),i=Math.abs(e.left-r.x);switch(Math.min(t,s,n,i)){case i:return"left";case n:return"right";case t:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function Du(r,e,t=5){const s=[];switch(e){case"top":s.push({x:r.x-t,y:r.y+t},{x:r.x+t,y:r.y+t});break;case"bottom":s.push({x:r.x-t,y:r.y-t},{x:r.x+t,y:r.y-t});break;case"left":s.push({x:r.x+t,y:r.y-t},{x:r.x+t,y:r.y+t});break;case"right":s.push({x:r.x-t,y:r.y-t},{x:r.x-t,y:r.y+t});break}return s}function Mu(r){const{top:e,right:t,bottom:s,left:n}=r;return[{x:n,y:e},{x:t,y:e},{x:t,y:s},{x:n,y:s}]}function Uu(r,e){const{x:t,y:s}=r;let n=!1;for(let i=0,a=e.length-1;i<e.length;a=i++){const o=e[i],l=e[a],c=o.x,u=o.y,h=l.x,p=l.y;u>s!=p>s&&t<(h-c)*(s-u)/(p-u)+c&&(n=!n)}return n}function Fu(r){const e=r.slice();return e.sort((t,s)=>t.x<s.x?-1:t.x>s.x?1:t.y<s.y?-1:t.y>s.y?1:0),Bu(e)}function Bu(r){if(r.length<=1)return r.slice();const e=[];for(let s=0;s<r.length;s++){const n=r[s];for(;e.length>=2;){const i=e[e.length-1],a=e[e.length-2];if((i.x-a.x)*(n.y-a.y)>=(i.y-a.y)*(n.x-a.x))e.pop();else break}e.push(n)}e.pop();const t=[];for(let s=r.length-1;s>=0;s--){const n=r[s];for(;t.length>=2;){const i=t[t.length-1],a=t[t.length-2];if((i.x-a.x)*(n.y-a.y)>=(i.y-a.y)*(n.x-a.x))t.pop();else break}t.push(n)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var qu=Ba,Ka=Wa;const Wu=qu,zu=v.forwardRef(({className:r,sideOffset:e=4,...t},s)=>d.jsx(Ka,{ref:s,sideOffset:e,className:re("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...t}));zu.displayName=Ka.displayName;var gs=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(r){return this.listeners.add(r),this.onSubscribe(),()=>{this.listeners.delete(r),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},vs=typeof window>"u"||"Deno"in globalThis;function De(){}function Hu(r,e){return typeof r=="function"?r(e):r}function Ku(r){return typeof r=="number"&&r>=0&&r!==1/0}function Vu(r,e){return Math.max(r+(e||0)-Date.now(),0)}function sn(r,e){return typeof r=="function"?r(e):r}function Gu(r,e){return typeof r=="function"?r(e):r}function ti(r,e){const{type:t="all",exact:s,fetchStatus:n,predicate:i,queryKey:a,stale:o}=r;if(a){if(s){if(e.queryHash!==jn(a,e.options))return!1}else if(!Cr(e.queryKey,a))return!1}if(t!=="all"){const l=e.isActive();if(t==="active"&&!l||t==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||n&&n!==e.state.fetchStatus||i&&!i(e))}function ri(r,e){const{exact:t,status:s,predicate:n,mutationKey:i}=r;if(i){if(!e.options.mutationKey)return!1;if(t){if(jr(e.options.mutationKey)!==jr(i))return!1}else if(!Cr(e.options.mutationKey,i))return!1}return!(s&&e.state.status!==s||n&&!n(e))}function jn(r,e){return((e==null?void 0:e.queryKeyHashFn)||jr)(r)}function jr(r){return JSON.stringify(r,(e,t)=>nn(t)?Object.keys(t).sort().reduce((s,n)=>(s[n]=t[n],s),{}):t)}function Cr(r,e){return r===e?!0:typeof r!=typeof e?!1:r&&e&&typeof r=="object"&&typeof e=="object"?Object.keys(e).every(t=>Cr(r[t],e[t])):!1}function Va(r,e){if(r===e)return r;const t=si(r)&&si(e);if(t||nn(r)&&nn(e)){const s=t?r:Object.keys(r),n=s.length,i=t?e:Object.keys(e),a=i.length,o=t?[]:{},l=new Set(s);let c=0;for(let u=0;u<a;u++){const h=t?u:i[u];(!t&&l.has(h)||t)&&r[h]===void 0&&e[h]===void 0?(o[h]=void 0,c++):(o[h]=Va(r[h],e[h]),o[h]===r[h]&&r[h]!==void 0&&c++)}return n===a&&c===n?r:o}return e}function si(r){return Array.isArray(r)&&r.length===Object.keys(r).length}function nn(r){if(!ni(r))return!1;const e=r.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!ni(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(r)!==Object.prototype)}function ni(r){return Object.prototype.toString.call(r)==="[object Object]"}function Yu(r){return new Promise(e=>{setTimeout(e,r)})}function Ju(r,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(r,e):t.structuralSharing!==!1?Va(r,e):e}function Qu(r,e,t=0){const s=[...r,e];return t&&s.length>t?s.slice(1):s}function Xu(r,e,t=0){const s=[e,...r];return t&&s.length>t?s.slice(0,-1):s}var Cn=Symbol();function Ga(r,e){return!r.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!r.queryFn||r.queryFn===Cn?()=>Promise.reject(new Error(`Missing queryFn: '${r.queryHash}'`)):r.queryFn}var Ct,ut,Zt,qi,Zu=(qi=class extends gs{constructor(){super();M(this,Ct);M(this,ut);M(this,Zt);L(this,Zt,e=>{if(!vs&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){_(this,ut)||this.setEventListener(_(this,Zt))}onUnsubscribe(){var e;this.hasListeners()||((e=_(this,ut))==null||e.call(this),L(this,ut,void 0))}setEventListener(e){var t;L(this,Zt,e),(t=_(this,ut))==null||t.call(this),L(this,ut,e(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(e){_(this,Ct)!==e&&(L(this,Ct,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof _(this,Ct)=="boolean"?_(this,Ct):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ct=new WeakMap,ut=new WeakMap,Zt=new WeakMap,qi),Ya=new Zu,er,dt,tr,Wi,ed=(Wi=class extends gs{constructor(){super();M(this,er,!0);M(this,dt);M(this,tr);L(this,tr,e=>{if(!vs&&window.addEventListener){const t=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",s)}}})}onSubscribe(){_(this,dt)||this.setEventListener(_(this,tr))}onUnsubscribe(){var e;this.hasListeners()||((e=_(this,dt))==null||e.call(this),L(this,dt,void 0))}setEventListener(e){var t;L(this,tr,e),(t=_(this,dt))==null||t.call(this),L(this,dt,e(this.setOnline.bind(this)))}setOnline(e){_(this,er)!==e&&(L(this,er,e),this.listeners.forEach(s=>{s(e)}))}isOnline(){return _(this,er)}},er=new WeakMap,dt=new WeakMap,tr=new WeakMap,Wi),ss=new ed;function td(){let r,e;const t=new Promise((n,i)=>{r=n,e=i});t.status="pending",t.catch(()=>{});function s(n){Object.assign(t,n),delete t.resolve,delete t.reject}return t.resolve=n=>{s({status:"fulfilled",value:n}),r(n)},t.reject=n=>{s({status:"rejected",reason:n}),e(n)},t}function rd(r){return Math.min(1e3*2**r,3e4)}function Ja(r){return(r??"online")==="online"?ss.isOnline():!0}var Qa=class extends Error{constructor(r){super("CancelledError"),this.revert=r==null?void 0:r.revert,this.silent=r==null?void 0:r.silent}};function Us(r){return r instanceof Qa}function Xa(r){let e=!1,t=0,s=!1,n;const i=td(),a=g=>{var m;s||(p(new Qa(g)),(m=r.abort)==null||m.call(r))},o=()=>{e=!0},l=()=>{e=!1},c=()=>Ya.isFocused()&&(r.networkMode==="always"||ss.isOnline())&&r.canRun(),u=()=>Ja(r.networkMode)&&r.canRun(),h=g=>{var m;s||(s=!0,(m=r.onSuccess)==null||m.call(r,g),n==null||n(),i.resolve(g))},p=g=>{var m;s||(s=!0,(m=r.onError)==null||m.call(r,g),n==null||n(),i.reject(g))},f=()=>new Promise(g=>{var m;n=x=>{(s||c())&&g(x)},(m=r.onPause)==null||m.call(r)}).then(()=>{var g;n=void 0,s||(g=r.onContinue)==null||g.call(r)}),y=()=>{if(s)return;let g;const m=t===0?r.initialPromise:void 0;try{g=m??r.fn()}catch(x){g=Promise.reject(x)}Promise.resolve(g).then(h).catch(x=>{var E;if(s)return;const b=r.retry??(vs?0:3),w=r.retryDelay??rd,S=typeof w=="function"?w(t,x):w,T=b===!0||typeof b=="number"&&t<b||typeof b=="function"&&b(t,x);if(e||!T){p(x);return}t++,(E=r.onFail)==null||E.call(r,t,x),Yu(S).then(()=>c()?void 0:f()).then(()=>{e?p(x):y()})})};return{promise:i,cancel:a,continue:()=>(n==null||n(),i),cancelRetry:o,continueRetry:l,canStart:u,start:()=>(u()?y():f().then(y),i)}}var sd=r=>setTimeout(r,0);function nd(){let r=[],e=0,t=o=>{o()},s=o=>{o()},n=sd;const i=o=>{e?r.push(o):n(()=>{t(o)})},a=()=>{const o=r;r=[],o.length&&n(()=>{s(()=>{o.forEach(l=>{t(l)})})})};return{batch:o=>{let l;e++;try{l=o()}finally{e--,e||a()}return l},batchCalls:o=>(...l)=>{i(()=>{o(...l)})},schedule:i,setNotifyFunction:o=>{t=o},setBatchNotifyFunction:o=>{s=o},setScheduler:o=>{n=o}}}var pe=nd(),Pt,zi,Za=(zi=class{constructor(){M(this,Pt)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ku(this.gcTime)&&L(this,Pt,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(r){this.gcTime=Math.max(this.gcTime||0,r??(vs?1/0:5*60*1e3))}clearGcTimeout(){_(this,Pt)&&(clearTimeout(_(this,Pt)),L(this,Pt,void 0))}},Pt=new WeakMap,zi),rr,Ot,je,Rt,ce,Ir,At,Me,Ge,Hi,id=(Hi=class extends Za{constructor(e){super();M(this,Me);M(this,rr);M(this,Ot);M(this,je);M(this,Rt);M(this,ce);M(this,Ir);M(this,At);L(this,At,!1),L(this,Ir,e.defaultOptions),this.setOptions(e.options),this.observers=[],L(this,Rt,e.client),L(this,je,_(this,Rt).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,L(this,rr,od(this.options)),this.state=e.state??_(this,rr),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=_(this,ce))==null?void 0:e.promise}setOptions(e){this.options={..._(this,Ir),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&_(this,je).remove(this)}setData(e,t){const s=Ju(this.state.data,e,this.options);return le(this,Me,Ge).call(this,{data:s,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),s}setState(e,t){le(this,Me,Ge).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var s,n;const t=(s=_(this,ce))==null?void 0:s.promise;return(n=_(this,ce))==null||n.cancel(e),t?t.then(De).catch(De):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(_(this,rr))}isActive(){return this.observers.some(e=>Gu(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Cn||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>sn(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Vu(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(s=>s.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=_(this,ce))==null||t.continue()}onOnline(){var t;const e=this.observers.find(s=>s.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=_(this,ce))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),_(this,je).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(_(this,ce)&&(_(this,At)?_(this,ce).cancel({revert:!0}):_(this,ce).cancelRetry()),this.scheduleGc()),_(this,je).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||le(this,Me,Ge).call(this,{type:"invalidate"})}fetch(e,t){var c,u,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(_(this,ce))return _(this,ce).continueRetry(),_(this,ce).promise}if(e&&this.setOptions(e),!this.options.queryFn){const p=this.observers.find(f=>f.options.queryFn);p&&this.setOptions(p.options)}const s=new AbortController,n=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(L(this,At,!0),s.signal)})},i=()=>{const p=Ga(this.options,t),y=(()=>{const g={client:_(this,Rt),queryKey:this.queryKey,meta:this.meta};return n(g),g})();return L(this,At,!1),this.options.persister?this.options.persister(p,y,this):p(y)},o=(()=>{const p={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:_(this,Rt),state:this.state,fetchFn:i};return n(p),p})();(c=this.options.behavior)==null||c.onFetch(o,this),L(this,Ot,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&le(this,Me,Ge).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta});const l=p=>{var f,y,g,m;Us(p)&&p.silent||le(this,Me,Ge).call(this,{type:"error",error:p}),Us(p)||((y=(f=_(this,je).config).onError)==null||y.call(f,p,this),(m=(g=_(this,je).config).onSettled)==null||m.call(g,this.state.data,p,this)),this.scheduleGc()};return L(this,ce,Xa({initialPromise:t==null?void 0:t.initialPromise,fn:o.fetchFn,abort:s.abort.bind(s),onSuccess:p=>{var f,y,g,m;if(p===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(x){l(x);return}(y=(f=_(this,je).config).onSuccess)==null||y.call(f,p,this),(m=(g=_(this,je).config).onSettled)==null||m.call(g,p,this.state.error,this),this.scheduleGc()},onError:l,onFail:(p,f)=>{le(this,Me,Ge).call(this,{type:"failed",failureCount:p,error:f})},onPause:()=>{le(this,Me,Ge).call(this,{type:"pause"})},onContinue:()=>{le(this,Me,Ge).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),_(this,ce).start()}},rr=new WeakMap,Ot=new WeakMap,je=new WeakMap,Rt=new WeakMap,ce=new WeakMap,Ir=new WeakMap,At=new WeakMap,Me=new WeakSet,Ge=function(e){const t=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...ad(s.data,this.options),fetchMeta:e.meta??null};case"success":return L(this,Ot,void 0),{...s,data:e.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=e.error;return Us(n)&&n.revert&&_(this,Ot)?{..._(this,Ot),fetchStatus:"idle"}:{...s,error:n,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=t(this.state),pe.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),_(this,je).notify({query:this,type:"updated",action:e})})},Hi);function ad(r,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Ja(e.networkMode)?"fetching":"paused",...r===void 0&&{error:null,status:"pending"}}}function od(r){const e=typeof r.initialData=="function"?r.initialData():r.initialData,t=e!==void 0,s=t?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var ze,Ki,ld=(Ki=class extends gs{constructor(e={}){super();M(this,ze);this.config=e,L(this,ze,new Map)}build(e,t,s){const n=t.queryKey,i=t.queryHash??jn(n,t);let a=this.get(i);return a||(a=new id({client:e,queryKey:n,queryHash:i,options:e.defaultQueryOptions(t),state:s,defaultOptions:e.getQueryDefaults(n)}),this.add(a)),a}add(e){_(this,ze).has(e.queryHash)||(_(this,ze).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=_(this,ze).get(e.queryHash);t&&(e.destroy(),t===e&&_(this,ze).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){pe.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return _(this,ze).get(e)}getAll(){return[..._(this,ze).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(s=>ti(t,s))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(s=>ti(e,s)):t}notify(e){pe.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){pe.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){pe.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ze=new WeakMap,Ki),He,fe,Nt,Ke,at,Vi,cd=(Vi=class extends Za{constructor(e){super();M(this,Ke);M(this,He);M(this,fe);M(this,Nt);this.mutationId=e.mutationId,L(this,fe,e.mutationCache),L(this,He,[]),this.state=e.state||ud(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){_(this,He).includes(e)||(_(this,He).push(e),this.clearGcTimeout(),_(this,fe).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){L(this,He,_(this,He).filter(t=>t!==e)),this.scheduleGc(),_(this,fe).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){_(this,He).length||(this.state.status==="pending"?this.scheduleGc():_(this,fe).remove(this))}continue(){var e;return((e=_(this,Nt))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,a,o,l,c,u,h,p,f,y,g,m,x,b,w,S,T,E,j,D;const t=()=>{le(this,Ke,at).call(this,{type:"continue"})};L(this,Nt,Xa({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(C,G)=>{le(this,Ke,at).call(this,{type:"failed",failureCount:C,error:G})},onPause:()=>{le(this,Ke,at).call(this,{type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>_(this,fe).canRun(this)}));const s=this.state.status==="pending",n=!_(this,Nt).canStart();try{if(s)t();else{le(this,Ke,at).call(this,{type:"pending",variables:e,isPaused:n}),await((a=(i=_(this,fe).config).onMutate)==null?void 0:a.call(i,e,this));const G=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,e));G!==this.state.context&&le(this,Ke,at).call(this,{type:"pending",context:G,variables:e,isPaused:n})}const C=await _(this,Nt).start();return await((u=(c=_(this,fe).config).onSuccess)==null?void 0:u.call(c,C,e,this.state.context,this)),await((p=(h=this.options).onSuccess)==null?void 0:p.call(h,C,e,this.state.context)),await((y=(f=_(this,fe).config).onSettled)==null?void 0:y.call(f,C,null,this.state.variables,this.state.context,this)),await((m=(g=this.options).onSettled)==null?void 0:m.call(g,C,null,e,this.state.context)),le(this,Ke,at).call(this,{type:"success",data:C}),C}catch(C){try{throw await((b=(x=_(this,fe).config).onError)==null?void 0:b.call(x,C,e,this.state.context,this)),await((S=(w=this.options).onError)==null?void 0:S.call(w,C,e,this.state.context)),await((E=(T=_(this,fe).config).onSettled)==null?void 0:E.call(T,void 0,C,this.state.variables,this.state.context,this)),await((D=(j=this.options).onSettled)==null?void 0:D.call(j,void 0,C,e,this.state.context)),C}finally{le(this,Ke,at).call(this,{type:"error",error:C})}}finally{_(this,fe).runNext(this)}}},He=new WeakMap,fe=new WeakMap,Nt=new WeakMap,Ke=new WeakSet,at=function(e){const t=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),pe.batch(()=>{_(this,He).forEach(s=>{s.onMutationUpdate(e)}),_(this,fe).notify({mutation:this,type:"updated",action:e})})},Vi);function ud(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Je,Ue,Lr,Gi,dd=(Gi=class extends gs{constructor(e={}){super();M(this,Je);M(this,Ue);M(this,Lr);this.config=e,L(this,Je,new Set),L(this,Ue,new Map),L(this,Lr,0)}build(e,t,s){const n=new cd({mutationCache:this,mutationId:++zr(this,Lr)._,options:e.defaultMutationOptions(t),state:s});return this.add(n),n}add(e){_(this,Je).add(e);const t=Vr(e);if(typeof t=="string"){const s=_(this,Ue).get(t);s?s.push(e):_(this,Ue).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(_(this,Je).delete(e)){const t=Vr(e);if(typeof t=="string"){const s=_(this,Ue).get(t);if(s)if(s.length>1){const n=s.indexOf(e);n!==-1&&s.splice(n,1)}else s[0]===e&&_(this,Ue).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Vr(e);if(typeof t=="string"){const s=_(this,Ue).get(t),n=s==null?void 0:s.find(i=>i.state.status==="pending");return!n||n===e}else return!0}runNext(e){var s;const t=Vr(e);if(typeof t=="string"){const n=(s=_(this,Ue).get(t))==null?void 0:s.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}else return Promise.resolve()}clear(){pe.batch(()=>{_(this,Je).forEach(e=>{this.notify({type:"removed",mutation:e})}),_(this,Je).clear(),_(this,Ue).clear()})}getAll(){return Array.from(_(this,Je))}find(e){const t={exact:!0,...e};return this.getAll().find(s=>ri(t,s))}findAll(e={}){return this.getAll().filter(t=>ri(e,t))}notify(e){pe.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return pe.batch(()=>Promise.all(e.map(t=>t.continue().catch(De))))}},Je=new WeakMap,Ue=new WeakMap,Lr=new WeakMap,Gi);function Vr(r){var e;return(e=r.options.scope)==null?void 0:e.id}function ii(r){return{onFetch:(e,t)=>{var u,h,p,f,y;const s=e.options,n=(p=(h=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,i=((f=e.state.data)==null?void 0:f.pages)||[],a=((y=e.state.data)==null?void 0:y.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const c=async()=>{let g=!1;const m=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},x=Ga(e.options,e.fetchOptions),b=async(w,S,T)=>{if(g)return Promise.reject();if(S==null&&w.pages.length)return Promise.resolve(w);const j=(()=>{const q={client:e.client,queryKey:e.queryKey,pageParam:S,direction:T?"backward":"forward",meta:e.options.meta};return m(q),q})(),D=await x(j),{maxPages:C}=e.options,G=T?Xu:Qu;return{pages:G(w.pages,D,C),pageParams:G(w.pageParams,S,C)}};if(n&&i.length){const w=n==="backward",S=w?hd:ai,T={pages:i,pageParams:a},E=S(s,T);o=await b(T,E,w)}else{const w=r??i.length;do{const S=l===0?a[0]??s.initialPageParam:ai(s,o);if(l>0&&S==null)break;o=await b(o,S),l++}while(l<w)}return o};e.options.persister?e.fetchFn=()=>{var g,m;return(m=(g=e.options).persister)==null?void 0:m.call(g,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=c}}}function ai(r,{pages:e,pageParams:t}){const s=e.length-1;return e.length>0?r.getNextPageParam(e[s],e,t[s],t):void 0}function hd(r,{pages:e,pageParams:t}){var s;return e.length>0?(s=r.getPreviousPageParam)==null?void 0:s.call(r,e[0],e,t[0],t):void 0}var te,ht,ft,sr,nr,pt,ir,ar,Yi,fd=(Yi=class{constructor(r={}){M(this,te);M(this,ht);M(this,ft);M(this,sr);M(this,nr);M(this,pt);M(this,ir);M(this,ar);L(this,te,r.queryCache||new ld),L(this,ht,r.mutationCache||new dd),L(this,ft,r.defaultOptions||{}),L(this,sr,new Map),L(this,nr,new Map),L(this,pt,0)}mount(){zr(this,pt)._++,_(this,pt)===1&&(L(this,ir,Ya.subscribe(async r=>{r&&(await this.resumePausedMutations(),_(this,te).onFocus())})),L(this,ar,ss.subscribe(async r=>{r&&(await this.resumePausedMutations(),_(this,te).onOnline())})))}unmount(){var r,e;zr(this,pt)._--,_(this,pt)===0&&((r=_(this,ir))==null||r.call(this),L(this,ir,void 0),(e=_(this,ar))==null||e.call(this),L(this,ar,void 0))}isFetching(r){return _(this,te).findAll({...r,fetchStatus:"fetching"}).length}isMutating(r){return _(this,ht).findAll({...r,status:"pending"}).length}getQueryData(r){var t;const e=this.defaultQueryOptions({queryKey:r});return(t=_(this,te).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(r){const e=this.defaultQueryOptions(r),t=_(this,te).build(this,e),s=t.state.data;return s===void 0?this.fetchQuery(r):(r.revalidateIfStale&&t.isStaleByTime(sn(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(s))}getQueriesData(r){return _(this,te).findAll(r).map(({queryKey:e,state:t})=>{const s=t.data;return[e,s]})}setQueryData(r,e,t){const s=this.defaultQueryOptions({queryKey:r}),n=_(this,te).get(s.queryHash),i=n==null?void 0:n.state.data,a=Hu(e,i);if(a!==void 0)return _(this,te).build(this,s).setData(a,{...t,manual:!0})}setQueriesData(r,e,t){return pe.batch(()=>_(this,te).findAll(r).map(({queryKey:s})=>[s,this.setQueryData(s,e,t)]))}getQueryState(r){var t;const e=this.defaultQueryOptions({queryKey:r});return(t=_(this,te).get(e.queryHash))==null?void 0:t.state}removeQueries(r){const e=_(this,te);pe.batch(()=>{e.findAll(r).forEach(t=>{e.remove(t)})})}resetQueries(r,e){const t=_(this,te);return pe.batch(()=>(t.findAll(r).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...r},e)))}cancelQueries(r,e={}){const t={revert:!0,...e},s=pe.batch(()=>_(this,te).findAll(r).map(n=>n.cancel(t)));return Promise.all(s).then(De).catch(De)}invalidateQueries(r,e={}){return pe.batch(()=>(_(this,te).findAll(r).forEach(t=>{t.invalidate()}),(r==null?void 0:r.refetchType)==="none"?Promise.resolve():this.refetchQueries({...r,type:(r==null?void 0:r.refetchType)??(r==null?void 0:r.type)??"active"},e)))}refetchQueries(r,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},s=pe.batch(()=>_(this,te).findAll(r).filter(n=>!n.isDisabled()&&!n.isStatic()).map(n=>{let i=n.fetch(void 0,t);return t.throwOnError||(i=i.catch(De)),n.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then(De)}fetchQuery(r){const e=this.defaultQueryOptions(r);e.retry===void 0&&(e.retry=!1);const t=_(this,te).build(this,e);return t.isStaleByTime(sn(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(r){return this.fetchQuery(r).then(De).catch(De)}fetchInfiniteQuery(r){return r.behavior=ii(r.pages),this.fetchQuery(r)}prefetchInfiniteQuery(r){return this.fetchInfiniteQuery(r).then(De).catch(De)}ensureInfiniteQueryData(r){return r.behavior=ii(r.pages),this.ensureQueryData(r)}resumePausedMutations(){return ss.isOnline()?_(this,ht).resumePausedMutations():Promise.resolve()}getQueryCache(){return _(this,te)}getMutationCache(){return _(this,ht)}getDefaultOptions(){return _(this,ft)}setDefaultOptions(r){L(this,ft,r)}setQueryDefaults(r,e){_(this,sr).set(jr(r),{queryKey:r,defaultOptions:e})}getQueryDefaults(r){const e=[..._(this,sr).values()],t={};return e.forEach(s=>{Cr(r,s.queryKey)&&Object.assign(t,s.defaultOptions)}),t}setMutationDefaults(r,e){_(this,nr).set(jr(r),{mutationKey:r,defaultOptions:e})}getMutationDefaults(r){const e=[..._(this,nr).values()],t={};return e.forEach(s=>{Cr(r,s.mutationKey)&&Object.assign(t,s.defaultOptions)}),t}defaultQueryOptions(r){if(r._defaulted)return r;const e={..._(this,ft).queries,...this.getQueryDefaults(r.queryKey),...r,_defaulted:!0};return e.queryHash||(e.queryHash=jn(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Cn&&(e.enabled=!1),e}defaultMutationOptions(r){return r!=null&&r._defaulted?r:{..._(this,ft).mutations,...(r==null?void 0:r.mutationKey)&&this.getMutationDefaults(r.mutationKey),...r,_defaulted:!0}}clear(){_(this,te).clear(),_(this,ht).clear()}},te=new WeakMap,ht=new WeakMap,ft=new WeakMap,sr=new WeakMap,nr=new WeakMap,pt=new WeakMap,ir=new WeakMap,ar=new WeakMap,Yi),pd=v.createContext(void 0),md=({client:r,children:e})=>(v.useEffect(()=>(r.mount(),()=>{r.unmount()}),[r]),d.jsx(pd.Provider,{value:r,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pr(){return Pr=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},Pr.apply(this,arguments)}var mt;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(mt||(mt={}));const oi="popstate";function gd(r){r===void 0&&(r={});function e(s,n){let{pathname:i,search:a,hash:o}=s.location;return an("",{pathname:i,search:a,hash:o},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function t(s,n){return typeof n=="string"?n:to(n)}return yd(e,t,null,r)}function ie(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function eo(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function vd(){return Math.random().toString(36).substr(2,8)}function li(r,e){return{usr:r.state,key:r.key,idx:e}}function an(r,e,t,s){return t===void 0&&(t=null),Pr({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof e=="string"?ur(e):e,{state:t,key:e&&e.key||s||vd()})}function to(r){let{pathname:e="/",search:t="",hash:s=""}=r;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function ur(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substr(t),r=r.substr(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substr(s),r=r.substr(0,s)),r&&(e.pathname=r)}return e}function yd(r,e,t,s){s===void 0&&(s={});let{window:n=document.defaultView,v5Compat:i=!1}=s,a=n.history,o=mt.Pop,l=null,c=u();c==null&&(c=0,a.replaceState(Pr({},a.state,{idx:c}),""));function u(){return(a.state||{idx:null}).idx}function h(){o=mt.Pop;let m=u(),x=m==null?null:m-c;c=m,l&&l({action:o,location:g.location,delta:x})}function p(m,x){o=mt.Push;let b=an(g.location,m,x);c=u()+1;let w=li(b,c),S=g.createHref(b);try{a.pushState(w,"",S)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;n.location.assign(S)}i&&l&&l({action:o,location:g.location,delta:1})}function f(m,x){o=mt.Replace;let b=an(g.location,m,x);c=u();let w=li(b,c),S=g.createHref(b);a.replaceState(w,"",S),i&&l&&l({action:o,location:g.location,delta:0})}function y(m){let x=n.location.origin!=="null"?n.location.origin:n.location.href,b=typeof m=="string"?m:to(m);return b=b.replace(/ $/,"%20"),ie(x,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,x)}let g={get action(){return o},get location(){return r(n,a)},listen(m){if(l)throw new Error("A history only accepts one active listener");return n.addEventListener(oi,h),l=m,()=>{n.removeEventListener(oi,h),l=null}},createHref(m){return e(n,m)},createURL:y,encodeLocation(m){let x=y(m);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:p,replace:f,go(m){return a.go(m)}};return g}var ci;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(ci||(ci={}));function wd(r,e,t){return t===void 0&&(t="/"),bd(r,e,t,!1)}function bd(r,e,t,s){let n=typeof e=="string"?ur(e):e,i=no(n.pathname||"/",t);if(i==null)return null;let a=ro(r);xd(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=Ad(i);o=Od(a[l],c,s)}return o}function ro(r,e,t,s){e===void 0&&(e=[]),t===void 0&&(t=[]),s===void 0&&(s="");let n=(i,a,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};l.relativePath.startsWith("/")&&(ie(l.relativePath.startsWith(s),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(s.length));let c=It([s,l.relativePath]),u=t.concat(l);i.children&&i.children.length>0&&(ie(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),ro(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:Cd(c,i.index),routesMeta:u})};return r.forEach((i,a)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))n(i,a);else for(let l of so(i.path))n(i,a,l)}),e}function so(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,n=t.endsWith("?"),i=t.replace(/\?$/,"");if(s.length===0)return n?[i,""]:[i];let a=so(s.join("/")),o=[];return o.push(...a.map(l=>l===""?i:[i,l].join("/"))),n&&o.push(...a),o.map(l=>r.startsWith("/")&&l===""?"/":l)}function xd(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:Pd(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}const _d=/^:[\w-]+$/,Ed=3,Sd=2,Td=1,kd=10,jd=-2,ui=r=>r==="*";function Cd(r,e){let t=r.split("/"),s=t.length;return t.some(ui)&&(s+=jd),e&&(s+=Sd),t.filter(n=>!ui(n)).reduce((n,i)=>n+(_d.test(i)?Ed:i===""?Td:kd),s)}function Pd(r,e){return r.length===e.length&&r.slice(0,-1).every((s,n)=>s===e[n])?r[r.length-1]-e[e.length-1]:0}function Od(r,e,t){let{routesMeta:s}=r,n={},i="/",a=[];for(let o=0;o<s.length;++o){let l=s[o],c=o===s.length-1,u=i==="/"?e:e.slice(i.length)||"/",h=di({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),p=l.route;if(!h&&c&&t&&!s[s.length-1].route.index&&(h=di({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!h)return null;Object.assign(n,h.params),a.push({params:n,pathname:It([i,h.pathname]),pathnameBase:$d(It([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=It([i,h.pathnameBase]))}return a}function di(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=Rd(r.path,r.caseSensitive,r.end),n=e.match(t);if(!n)return null;let i=n[0],a=i.replace(/(.)\/+$/,"$1"),o=n.slice(1);return{params:s.reduce((c,u,h)=>{let{paramName:p,isOptional:f}=u;if(p==="*"){let g=o[h]||"";a=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const y=o[h];return f&&!y?c[p]=void 0:c[p]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:a,pattern:r}}function Rd(r,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),eo(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let s=[],n="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(s.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),n+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?n+="\\/*$":r!==""&&r!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,e?void 0:"i"),s]}function Ad(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return eo(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),r}}function no(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}function Nd(r,e){e===void 0&&(e="/");let{pathname:t,search:s="",hash:n=""}=typeof r=="string"?ur(r):r;return{pathname:t?t.startsWith("/")?t:Id(t,e):e,search:Dd(s),hash:Md(n)}}function Id(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(n=>{n===".."?t.length>1&&t.pop():n!=="."&&t.push(n)}),t.length>1?t.join("/"):"/"}function Fs(r,e,t,s){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ld(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function io(r,e){let t=Ld(r);return e?t.map((s,n)=>n===t.length-1?s.pathname:s.pathnameBase):t.map(s=>s.pathnameBase)}function ao(r,e,t,s){s===void 0&&(s=!1);let n;typeof r=="string"?n=ur(r):(n=Pr({},r),ie(!n.pathname||!n.pathname.includes("?"),Fs("?","pathname","search",n)),ie(!n.pathname||!n.pathname.includes("#"),Fs("#","pathname","hash",n)),ie(!n.search||!n.search.includes("#"),Fs("#","search","hash",n)));let i=r===""||n.pathname==="",a=i?"/":n.pathname,o;if(a==null)o=t;else{let h=e.length-1;if(!s&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),h-=1;n.pathname=p.join("/")}o=h>=0?e[h]:"/"}let l=Nd(n,o),c=a&&a!=="/"&&a.endsWith("/"),u=(i||a===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const It=r=>r.join("/").replace(/\/\/+/g,"/"),$d=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Dd=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Md=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Ud(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const oo=["post","put","patch","delete"];new Set(oo);const Fd=["get",...oo];new Set(Fd);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Or(){return Or=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},Or.apply(this,arguments)}const Pn=v.createContext(null),Bd=v.createContext(null),Dr=v.createContext(null),ys=v.createContext(null),$t=v.createContext({outlet:null,matches:[],isDataRoute:!1}),lo=v.createContext(null);function Mr(){return v.useContext(ys)!=null}function ws(){return Mr()||ie(!1),v.useContext(ys).location}function co(r){v.useContext(Dr).static||v.useLayoutEffect(r)}function bs(){let{isDataRoute:r}=v.useContext($t);return r?eh():qd()}function qd(){Mr()||ie(!1);let r=v.useContext(Pn),{basename:e,future:t,navigator:s}=v.useContext(Dr),{matches:n}=v.useContext($t),{pathname:i}=ws(),a=JSON.stringify(io(n,t.v7_relativeSplatPath)),o=v.useRef(!1);return co(()=>{o.current=!0}),v.useCallback(function(c,u){if(u===void 0&&(u={}),!o.current)return;if(typeof c=="number"){s.go(c);return}let h=ao(c,JSON.parse(a),i,u.relative==="path");r==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:It([e,h.pathname])),(u.replace?s.replace:s.push)(h,u.state,u)},[e,s,a,i,r])}function Wd(r,e){return zd(r,e)}function zd(r,e,t,s){Mr()||ie(!1);let{navigator:n}=v.useContext(Dr),{matches:i}=v.useContext($t),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=ws(),u;if(e){var h;let m=typeof e=="string"?ur(e):e;l==="/"||(h=m.pathname)!=null&&h.startsWith(l)||ie(!1),u=m}else u=c;let p=u.pathname||"/",f=p;if(l!=="/"){let m=l.replace(/^\//,"").split("/");f="/"+p.replace(/^\//,"").split("/").slice(m.length).join("/")}let y=wd(r,{pathname:f}),g=Yd(y&&y.map(m=>Object.assign({},m,{params:Object.assign({},o,m.params),pathname:It([l,n.encodeLocation?n.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?l:It([l,n.encodeLocation?n.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),i,t,s);return e&&g?v.createElement(ys.Provider,{value:{location:Or({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:mt.Pop}},g):g}function Hd(){let r=Zd(),e=Ud(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),t?v.createElement("pre",{style:n},t):null,null)}const Kd=v.createElement(Hd,null);class Vd extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?v.createElement($t.Provider,{value:this.props.routeContext},v.createElement(lo.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Gd(r){let{routeContext:e,match:t,children:s}=r,n=v.useContext(Pn);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),v.createElement($t.Provider,{value:e},s)}function Yd(r,e,t,s){var n;if(e===void 0&&(e=[]),t===void 0&&(t=null),s===void 0&&(s=null),r==null){var i;if(!t)return null;if(t.errors)r=t.matches;else if((i=s)!=null&&i.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let a=r,o=(n=t)==null?void 0:n.errors;if(o!=null){let u=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);u>=0||ie(!1),a=a.slice(0,Math.min(a.length,u+1))}let l=!1,c=-1;if(t&&s&&s.v7_partialHydration)for(let u=0;u<a.length;u++){let h=a[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:p,errors:f}=t,y=h.route.loader&&p[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||y){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((u,h,p)=>{let f,y=!1,g=null,m=null;t&&(f=o&&h.route.id?o[h.route.id]:void 0,g=h.route.errorElement||Kd,l&&(c<0&&p===0?(y=!0,m=null):c===p&&(y=!0,m=h.route.hydrateFallbackElement||null)));let x=e.concat(a.slice(0,p+1)),b=()=>{let w;return f?w=g:y?w=m:h.route.Component?w=v.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=u,v.createElement(Gd,{match:h,routeContext:{outlet:u,matches:x,isDataRoute:t!=null},children:w})};return t&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?v.createElement(Vd,{location:t.location,revalidation:t.revalidation,component:g,error:f,children:b(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):b()},null)}var uo=function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r}(uo||{}),ns=function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r}(ns||{});function Jd(r){let e=v.useContext(Pn);return e||ie(!1),e}function Qd(r){let e=v.useContext(Bd);return e||ie(!1),e}function Xd(r){let e=v.useContext($t);return e||ie(!1),e}function ho(r){let e=Xd(),t=e.matches[e.matches.length-1];return t.route.id||ie(!1),t.route.id}function Zd(){var r;let e=v.useContext(lo),t=Qd(ns.UseRouteError),s=ho(ns.UseRouteError);return e!==void 0?e:(r=t.errors)==null?void 0:r[s]}function eh(){let{router:r}=Jd(uo.UseNavigateStable),e=ho(ns.UseNavigateStable),t=v.useRef(!1);return co(()=>{t.current=!0}),v.useCallback(function(n,i){i===void 0&&(i={}),t.current&&(typeof n=="number"?r.navigate(n):r.navigate(n,Or({fromRouteId:e},i)))},[r,e])}function th(r,e){r==null||r.v7_startTransition,r==null||r.v7_relativeSplatPath}function fo(r){let{to:e,replace:t,state:s,relative:n}=r;Mr()||ie(!1);let{future:i,static:a}=v.useContext(Dr),{matches:o}=v.useContext($t),{pathname:l}=ws(),c=bs(),u=ao(e,io(o,i.v7_relativeSplatPath),l,n==="path"),h=JSON.stringify(u);return v.useEffect(()=>c(JSON.parse(h),{replace:t,state:s,relative:n}),[c,h,n,t,s]),null}function xr(r){ie(!1)}function rh(r){let{basename:e="/",children:t=null,location:s,navigationType:n=mt.Pop,navigator:i,static:a=!1,future:o}=r;Mr()&&ie(!1);let l=e.replace(/^\/*/,"/"),c=v.useMemo(()=>({basename:l,navigator:i,static:a,future:Or({v7_relativeSplatPath:!1},o)}),[l,o,i,a]);typeof s=="string"&&(s=ur(s));let{pathname:u="/",search:h="",hash:p="",state:f=null,key:y="default"}=s,g=v.useMemo(()=>{let m=no(u,l);return m==null?null:{location:{pathname:m,search:h,hash:p,state:f,key:y},navigationType:n}},[l,u,h,p,f,y,n]);return g==null?null:v.createElement(Dr.Provider,{value:c},v.createElement(ys.Provider,{children:t,value:g}))}function sh(r){let{children:e,location:t}=r;return Wd(on(e),t)}new Promise(()=>{});function on(r,e){e===void 0&&(e=[]);let t=[];return v.Children.forEach(r,(s,n)=>{if(!v.isValidElement(s))return;let i=[...e,n];if(s.type===v.Fragment){t.push.apply(t,on(s.props.children,i));return}s.type!==xr&&ie(!1),!s.props.index||!s.props.children||ie(!1);let a={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(a.children=on(s.props.children,i)),t.push(a)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const nh="6";try{window.__reactRouterVersion=nh}catch{}const ih="startTransition",hi=xl[ih];function ah(r){let{basename:e,children:t,future:s,window:n}=r,i=v.useRef();i.current==null&&(i.current=gd({window:n,v5Compat:!0}));let a=i.current,[o,l]=v.useState({action:a.action,location:a.location}),{v7_startTransition:c}=s||{},u=v.useCallback(h=>{c&&hi?hi(()=>l(h)):l(h)},[l,c]);return v.useLayoutEffect(()=>a.listen(u),[a,u]),v.useEffect(()=>th(s),[s]),v.createElement(rh,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:a,future:s})}var fi;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(fi||(fi={}));var pi;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(pi||(pi={}));const oh="modulepreload",lh=function(r){return"/frontend/dist/"+r},mi={},Ur=function(e,t,s){let n=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));n=Promise.allSettled(t.map(l=>{if(l=lh(l),l in mi)return;mi[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":oh,c||(h.as="script"),h.crossOrigin="",h.href=l,o&&h.setAttribute("nonce",o),document.head.appendChild(h),c)return new Promise((p,f)=>{h.addEventListener("load",p),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return n.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return e().catch(i)})},ch=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>Ur(async()=>{const{default:s}=await Promise.resolve().then(()=>dr);return{default:s}},void 0).then(({default:s})=>s(...t)):e=fetch,(...t)=>e(...t)};class On extends Error{constructor(e,t="FunctionsError",s){super(e),this.name=t,this.context=s}}class gi extends On{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class vi extends On{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class yi extends On{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ln;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(ln||(ln={}));var uh=function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(u){try{c(s.next(u))}catch(h){a(h)}}function l(u){try{c(s.throw(u))}catch(h){a(h)}}function c(u){u.done?i(u.value):n(u.value).then(o,l)}c((s=s.apply(r,e||[])).next())})};class dh{constructor(e,{headers:t={},customFetch:s,region:n=ln.Any}={}){this.url=e,this.headers=t,this.region=n,this.fetch=ch(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return uh(this,arguments,void 0,function*(t,s={}){var n;try{const{headers:i,method:a,body:o,signal:l}=s;let c={},{region:u}=s;u||(u=this.region);const h=new URL(`${this.url}/${t}`);u&&u!=="any"&&(c["x-region"]=u,h.searchParams.set("forceFunctionRegion",u));let p;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",p=o):typeof o=="string"?(c["Content-Type"]="text/plain",p=o):typeof FormData<"u"&&o instanceof FormData?p=o:(c["Content-Type"]="application/json",p=JSON.stringify(o)));const f=yield this.fetch(h.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),i),body:p,signal:l}).catch(x=>{throw x.name==="AbortError"?x:new gi(x)}),y=f.headers.get("x-relay-error");if(y&&y==="true")throw new vi(f);if(!f.ok)throw new yi(f);let g=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),m;return g==="application/json"?m=yield f.json():g==="application/octet-stream"?m=yield f.blob():g==="text/event-stream"?m=f:g==="multipart/form-data"?m=yield f.formData():m=yield f.text(),{data:m,error:null,response:f}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new gi(i)}:{data:null,error:i,response:i instanceof yi||i instanceof vi?i.context:void 0}}})}}var xe={},Rn={},xs={},Fr={},_s={},Es={},hh=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},lr=hh();const fh=lr.fetch,po=lr.fetch.bind(lr),mo=lr.Headers,ph=lr.Request,mh=lr.Response,dr=Object.freeze(Object.defineProperty({__proto__:null,Headers:mo,Request:ph,Response:mh,default:po,fetch:fh},Symbol.toStringTag,{value:"Module"})),gh=_l(dr);var Ss={};Object.defineProperty(Ss,"__esModule",{value:!0});let vh=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Ss.default=vh;var go=Re&&Re.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Es,"__esModule",{value:!0});const yh=go(gh),wh=go(Ss);let bh=class{constructor(e){var t,s;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(s=e.isMaybeSingle)!==null&&s!==void 0?s:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=yh.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let n=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,o,l,c;let u=null,h=null,p=null,f=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){const b=await i.text();b===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((a=this.headers.get("Accept"))===null||a===void 0)&&a.includes("application/vnd.pgrst.plan+text"))?h=b:h=JSON.parse(b))}const m=(o=this.headers.get("Prefer"))===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),x=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");m&&x&&x.length>1&&(p=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(u={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,p=null,f=406,y="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const m=await i.text();try{u=JSON.parse(m),Array.isArray(u)&&i.status===404&&(h=[],u=null,f=200,y="OK")}catch{i.status===404&&m===""?(f=204,y="No Content"):u={message:m}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,f=200,y="OK"),u&&this.shouldThrowOnError)throw new wh.default(u)}return{error:u,data:h,count:p,status:f,statusText:y}});return this.shouldThrowOnError||(n=n.catch(i=>{var a,o,l;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),n.then(e,t)}returns(){return this}overrideTypes(){return this}};Es.default=bh;var xh=Re&&Re.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(_s,"__esModule",{value:!0});const _h=xh(Es);let Eh=class extends _h.default{select(e){let t=!1;const s=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:s,foreignTable:n,referencedTable:i=n}={}){const a=i?`${i}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:s=t}={}){const n=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:s,referencedTable:n=s}={}){const i=typeof n>"u"?"offset":`${n}.offset`,a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:s=!1,buffers:n=!1,wal:i=!1,format:a="text"}={}){var o;const l=[e?"analyze":null,t?"verbose":null,s?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${c}"; options=${l};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};_s.default=Eh;var Sh=Re&&Re.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Fr,"__esModule",{value:!0});const Th=Sh(_s);let kh=class extends Th.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const s=Array.from(new Set(t)).map(n=>typeof n=="string"&&new RegExp("[,()]").test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${s})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:s,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const a=s===void 0?"":`(${s})`;return this.url.searchParams.append(e,`${i}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([t,s])=>{this.url.searchParams.append(t,`eq.${s}`)}),this}not(e,t,s){return this.url.searchParams.append(e,`not.${t}.${s}`),this}or(e,{foreignTable:t,referencedTable:s=t}={}){const n=s?`${s}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,s){return this.url.searchParams.append(e,`${t}.${s}`),this}};Fr.default=kh;var jh=Re&&Re.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(xs,"__esModule",{value:!0});const yr=jh(Fr);let Ch=class{constructor(e,{headers:t={},schema:s,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=s,this.fetch=n}select(e,t){const{head:s=!1,count:n}=t??{},i=s?"HEAD":"GET";let a=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new yr.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:s=!0}={}){var n;const i="POST";if(t&&this.headers.append("Prefer",`count=${t}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(a.length>0){const o=[...new Set(a)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new yr.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:s=!1,count:n,defaultToNull:i=!0}={}){var a;const o="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),n&&this.headers.append("Prefer",`count=${n}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new yr.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(e,{count:t}={}){var s;const n="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new yr.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:e}={}){var t;const s="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new yr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}};xs.default=Ch;var vo=Re&&Re.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Rn,"__esModule",{value:!0});const Ph=vo(xs),Oh=vo(Fr);let Rh=class yo{constructor(e,{headers:t={},schema:s,fetch:n}={}){this.url=e,this.headers=new Headers(t),this.schemaName=s,this.fetch=n}from(e){const t=new URL(`${this.url}/${e}`);return new Ph.default(t,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new yo(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:s=!1,get:n=!1,count:i}={}){var a;let o;const l=new URL(`${this.url}/rpc/${e}`);let c;s||n?(o=s?"HEAD":"GET",Object.entries(t).filter(([h,p])=>p!==void 0).map(([h,p])=>[h,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([h,p])=>{l.searchParams.append(h,p)})):(o="POST",c=t);const u=new Headers(this.headers);return i&&u.set("Prefer",`count=${i}`),new Oh.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};Rn.default=Rh;var hr=Re&&Re.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(xe,"__esModule",{value:!0});xe.PostgrestError=xe.PostgrestBuilder=xe.PostgrestTransformBuilder=xe.PostgrestFilterBuilder=xe.PostgrestQueryBuilder=xe.PostgrestClient=void 0;const wo=hr(Rn);xe.PostgrestClient=wo.default;const bo=hr(xs);xe.PostgrestQueryBuilder=bo.default;const xo=hr(Fr);xe.PostgrestFilterBuilder=xo.default;const _o=hr(_s);xe.PostgrestTransformBuilder=_o.default;const Eo=hr(Es);xe.PostgrestBuilder=Eo.default;const So=hr(Ss);xe.PostgrestError=So.default;var Ah=xe.default={PostgrestClient:wo.default,PostgrestQueryBuilder:bo.default,PostgrestFilterBuilder:xo.default,PostgrestTransformBuilder:_o.default,PostgrestBuilder:Eo.default,PostgrestError:So.default};const{PostgrestClient:Nh,PostgrestQueryBuilder:Og,PostgrestFilterBuilder:Rg,PostgrestTransformBuilder:Ag,PostgrestBuilder:Ng,PostgrestError:Ig}=Ah;class Ih{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const t=process.versions;if(t&&t.node){const s=t.node,n=parseInt(s.replace(/^v/,"").split(".")[0]);return n>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const s=this.getWebSocketConstructor();return new s(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Lh="2.75.1",$h=`realtime-js/${Lh}`,Dh="1.0.0",cn=1e4,Mh=1e3,Uh=100;var Sr;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(Sr||(Sr={}));var ae;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(ae||(ae={}));var Fe;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(Fe||(Fe={}));var un;(function(r){r.websocket="websocket"})(un||(un={}));var Tt;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(Tt||(Tt={}));class Fh{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,t,s)}_decodeBroadcast(e,t,s){const n=t.getUint8(1),i=t.getUint8(2);let a=this.HEADER_LENGTH+2;const o=s.decode(e.slice(a,a+n));a=a+n;const l=s.decode(e.slice(a,a+i));a=a+i;const c=JSON.parse(s.decode(e.slice(a,e.byteLength)));return{ref:null,topic:o,event:l,payload:c}}}class To{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var K;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(K||(K={}));const wi=(r,e,t={})=>{var s;const n=(s=t.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((i,a)=>(i[a]=Bh(a,r,e,n),i),{}):{}},Bh=(r,e,t,s)=>{const n=e.find(o=>o.name===r),i=n==null?void 0:n.type,a=t[r];return i&&!s.includes(i)?ko(i,a):dn(a)},ko=(r,e)=>{if(r.charAt(0)==="_"){const t=r.slice(1,r.length);return Hh(e,t)}switch(r){case K.bool:return qh(e);case K.float4:case K.float8:case K.int2:case K.int4:case K.int8:case K.numeric:case K.oid:return Wh(e);case K.json:case K.jsonb:return zh(e);case K.timestamp:return Kh(e);case K.abstime:case K.date:case K.daterange:case K.int4range:case K.int8range:case K.money:case K.reltime:case K.text:case K.time:case K.timestamptz:case K.timetz:case K.tsrange:case K.tstzrange:return dn(e);default:return dn(e)}},dn=r=>r,qh=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},Wh=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},zh=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(e){return console.log(`JSON parse error: ${e}`),r}return r},Hh=(r,e)=>{if(typeof r!="string")return r;const t=r.length-1,s=r[t];if(r[0]==="{"&&s==="}"){let i;const a=r.slice(1,t);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>ko(e,o))}return r},Kh=r=>typeof r=="string"?r.replace(" ","T"):r,jo=r=>{let e=r;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Bs{constructor(e,t,s={},n=cn){this.channel=e,this.event=t,this.payload=s,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var s;return this._hasReceived(e)&&t((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var bi;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(bi||(bi={}));class Tr{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},n=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Tr.syncState(this.state,n,i,a),this.pendingDiffs.forEach(l=>{this.state=Tr.syncDiff(this.state,l,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(s.diff,{},n=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=Tr.syncDiff(this.state,n,i,a),o())}),this.onJoin((n,i,a)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:a})}),this.onLeave((n,i,a)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,s,n){const i=this.cloneDeep(e),a=this.transformState(t),o={},l={};return this.map(i,(c,u)=>{a[c]||(l[c]=u)}),this.map(a,(c,u)=>{const h=i[c];if(h){const p=u.map(m=>m.presence_ref),f=h.map(m=>m.presence_ref),y=u.filter(m=>f.indexOf(m.presence_ref)<0),g=h.filter(m=>p.indexOf(m.presence_ref)<0);y.length>0&&(o[c]=y),g.length>0&&(l[c]=g)}else o[c]=u}),this.syncDiff(i,{joins:o,leaves:l},s,n)}static syncDiff(e,t,s,n){const{joins:i,leaves:a}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return s||(s=()=>{}),n||(n=()=>{}),this.map(i,(o,l)=>{var c;const u=(c=e[o])!==null&&c!==void 0?c:[];if(e[o]=this.cloneDeep(l),u.length>0){const h=e[o].map(f=>f.presence_ref),p=u.filter(f=>h.indexOf(f.presence_ref)<0);e[o].unshift(...p)}s(o,u,l)}),this.map(a,(o,l)=>{let c=e[o];if(!c)return;const u=l.map(h=>h.presence_ref);c=c.filter(h=>u.indexOf(h.presence_ref)<0),e[o]=c,n(o,c,l),c.length===0&&delete e[o]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(s=>t(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,s)=>{const n=e[s];return"metas"in n?t[s]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):t[s]=n,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var xi;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(xi||(xi={}));var kr;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(kr||(kr={}));var Ye;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(Ye||(Ye={}));class An{constructor(e,t={config:{}},s){var n,i;if(this.topic=e,this.params=t,this.socket=s,this.bindings={},this.state=ae.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Bs(this,Fe.join,this.params,this.timeout),this.rejoinTimer=new To(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ae.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ae.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=ae.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ae.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=ae.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Fe.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new Tr(this),this.broadcastEndpointURL=jo(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(n=this.params.config)===null||n===void 0?void 0:n.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var s,n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ae.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params,c=(n=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(f=>f.filter))!==null&&n!==void 0?n:[],u=!!this.bindings[kr.PRESENCE]&&this.bindings[kr.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},p={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(f=>e==null?void 0:e(Ye.CHANNEL_ERROR,f)),this._onClose(()=>e==null?void 0:e(Ye.CLOSED)),this.updateJoinPayload(Object.assign({config:p},h)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:f})=>{var y;if(this.socket.setAuth(),f===void 0){e==null||e(Ye.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,m=(y=g==null?void 0:g.length)!==null&&y!==void 0?y:0,x=[];for(let b=0;b<m;b++){const w=g[b],{filter:{event:S,schema:T,table:E,filter:j}}=w,D=f&&f[b];if(D&&D.event===S&&D.schema===T&&D.table===E&&D.filter===j)x.push(Object.assign(Object.assign({},w),{id:D.id}));else{this.unsubscribe(),this.state=ae.errored,e==null||e(Ye.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,e&&e(Ye.SUBSCRIBED);return}}).receive("error",f=>{this.state=ae.errored,e==null||e(Ye.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ye.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,s){return this.state===ae.joined&&e===kr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,s)}async send(e,t={}){var s,n;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:a}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=t.timeout)!==null&&s!==void 0?s:this.timeout);return await((n=c.body)===null||n===void 0?void 0:n.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,l;const c=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ae.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Fe.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(n=>{s=new Bs(this,Fe.leave,{},e),s.receive("ok",()=>{t(),n("ok")}).receive("timeout",()=>{t(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ae.closed,this.bindings={}}async _fetchWithTimeout(e,t,s){const n=new AbortController,i=setTimeout(()=>n.abort(),s),a=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:n.signal}));return clearTimeout(i),a}_push(e,t,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new Bs(this,e,t,s);return this._canPush()?n.send():this._addToPushBuffer(n),n}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Uh){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,s){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,s){var n,i;const a=e.toLocaleLowerCase(),{close:o,error:l,leave:c,join:u}=Fe;if(s&&[o,l,c,u].indexOf(a)>=0&&s!==this._joinRef())return;let p=this._onMessage(a,t,s);if(t&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(f=>{var y,g,m;return((y=f.filter)===null||y===void 0?void 0:y.event)==="*"||((m=(g=f.filter)===null||g===void 0?void 0:g.event)===null||m===void 0?void 0:m.toLocaleLowerCase())===a}).map(f=>f.callback(p,s)):(i=this.bindings[a])===null||i===void 0||i.filter(f=>{var y,g,m,x,b,w;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in f){const S=f.id,T=(y=f.filter)===null||y===void 0?void 0:y.event;return S&&((g=t.ids)===null||g===void 0?void 0:g.includes(S))&&(T==="*"||(T==null?void 0:T.toLocaleLowerCase())===((m=t.data)===null||m===void 0?void 0:m.type.toLocaleLowerCase()))}else{const S=(b=(x=f==null?void 0:f.filter)===null||x===void 0?void 0:x.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return S==="*"||S===((w=t==null?void 0:t.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===a}).map(f=>{if(typeof p=="object"&&"ids"in p){const y=p.data,{schema:g,table:m,commit_timestamp:x,type:b,errors:w}=y;p=Object.assign(Object.assign({},{schema:g,table:m,commit_timestamp:x,eventType:b,new:{},old:{},errors:w}),this._getPayloadRecords(y))}f.callback(p,s)})}_isClosed(){return this.state===ae.closed}_isJoined(){return this.state===ae.joined}_isJoining(){return this.state===ae.joining}_isLeaving(){return this.state===ae.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,s){const n=e.toLocaleLowerCase(),i={type:n,filter:t,callback:s};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(e,t){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===s&&An.isEqual(n.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Fe.close,{},e)}_onError(e){this._on(Fe.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ae.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=wi(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=wi(e.columns,e.old_record)),t}}const qs=()=>{},Gr={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Vh=[1e3,2e3,5e3,1e4],Gh=1e4,Yh=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Jh{constructor(e,t){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=cn,this.transport=null,this.heartbeatIntervalMs=Gr.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=qs,this.ref=0,this.reconnectTimer=null,this.logger=qs,this.conn=null,this.sendBuffer=[],this.serializer=new Fh,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=n=>{let i;return n?i=n:typeof fetch>"u"?i=(...a)=>Ur(async()=>{const{default:o}=await Promise.resolve().then(()=>dr);return{default:o}},void 0).then(({default:o})=>o(...a)).catch(o=>{throw new Error(`Failed to load @supabase/node-fetch: ${o.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...a)=>i(...a)},!(!((s=t==null?void 0:t.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${un.websocket}`,this.httpEndpoint=jo(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t==null?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Ih.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Dh}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},e?this.conn.close(e,t??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,s){this.logger(e,t,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Sr.connecting:return Tt.Connecting;case Sr.open:return Tt.Open;case Sr.closing:return Tt.Closing;default:return Tt.Closed}}isConnected(){return this.connectionState()===Tt.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const s=`realtime:${e}`,n=this.getChannels().find(i=>i.topic===s);if(n)return n;{const i=new An(`realtime:${e}`,t,this);return this.channels.push(i),i}}push(e){const{topic:t,event:s,payload:n,ref:i}=e,a=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${t} ${s} (${i})`,n),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Mh,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},Gr.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply")try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:n,payload:i,ref:a}=t,o=a?`(${a})`:"",l=i.status||"";this.log("receive",`${l} ${s} ${n} ${o}`.trim(),i),this.channels.filter(c=>c._isMember(s)).forEach(c=>c._trigger(n,i,a)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Fe.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const s=e.match(/\?/)?"&":"?",n=new URLSearchParams(t);return`${e}${s}${n}`}_workerObjectUrl(e){let t;if(e)t=e;else{const s=new Blob([Yh],{type:"application/javascript"});t=URL.createObjectURL(s)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t;e?t=e:this.accessToken?t=await this.accessToken():t=this.accessTokenValue,this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(s=>{const n={access_token:t,version:$h};t&&s.updateJoinPayload(n),s.joinedOnce&&s._isJoined()&&s._push(Fe.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(t)}catch(n){this.log("error",`error in ${e} callback`,n)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new To(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Gr.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,s,n,i,a,o,l,c,u;if(this.transport=(t=e==null?void 0:e.transport)!==null&&t!==void 0?t:null,this.timeout=(s=e==null?void 0:e.timeout)!==null&&s!==void 0?s:cn,this.heartbeatIntervalMs=(n=e==null?void 0:e.heartbeatIntervalMs)!==null&&n!==void 0?n:Gr.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(o=e==null?void 0:e.heartbeatCallback)!==null&&o!==void 0?o:qs,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:h=>Vh[h-1]||Gh,this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(h,p)=>p(JSON.stringify(h)),this.decode=(u=e==null?void 0:e.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Nn extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ne(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class Qh extends Nn{constructor(e,t,s){super(e),this.name="StorageApiError",this.status=t,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class hn extends Nn{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var Xh=function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(u){try{c(s.next(u))}catch(h){a(h)}}function l(u){try{c(s.throw(u))}catch(h){a(h)}}function c(u){u.done?i(u.value):n(u.value).then(o,l)}c((s=s.apply(r,e||[])).next())})};const Co=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>Ur(async()=>{const{default:s}=await Promise.resolve().then(()=>dr);return{default:s}},void 0).then(({default:s})=>s(...t)):e=fetch,(...t)=>e(...t)},Zh=()=>Xh(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ur(()=>Promise.resolve().then(()=>dr),void 0)).Response:Response}),fn=r=>{if(Array.isArray(r))return r.map(t=>fn(t));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([t,s])=>{const n=t.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[n]=fn(s)}),e},ef=r=>{if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)};var Dt=function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(u){try{c(s.next(u))}catch(h){a(h)}}function l(u){try{c(s.throw(u))}catch(h){a(h)}}function c(u){u.done?i(u.value):n(u.value).then(o,l)}c((s=s.apply(r,e||[])).next())})};const Ws=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),tf=(r,e,t)=>Dt(void 0,void 0,void 0,function*(){const s=yield Zh();r instanceof s&&!(t!=null&&t.noResolveJson)?r.json().then(n=>{const i=r.status||500,a=(n==null?void 0:n.statusCode)||i+"";e(new Qh(Ws(n),i,a))}).catch(n=>{e(new hn(Ws(n),n))}):e(new hn(Ws(r),r))}),rf=(r,e,t,s)=>{const n={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"||!s?n:(ef(s)?(n.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n.body=JSON.stringify(s)):n.body=s,e!=null&&e.duplex&&(n.duplex=e.duplex),Object.assign(Object.assign({},n),t))};function Br(r,e,t,s,n,i){return Dt(this,void 0,void 0,function*(){return new Promise((a,o)=>{r(t,rf(e,s,n,i)).then(l=>{if(!l.ok)throw l;return s!=null&&s.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>tf(l,o,s))})})}function is(r,e,t,s){return Dt(this,void 0,void 0,function*(){return Br(r,"GET",e,t,s)})}function We(r,e,t,s,n){return Dt(this,void 0,void 0,function*(){return Br(r,"POST",e,s,n,t)})}function pn(r,e,t,s,n){return Dt(this,void 0,void 0,function*(){return Br(r,"PUT",e,s,n,t)})}function sf(r,e,t,s){return Dt(this,void 0,void 0,function*(){return Br(r,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),s)})}function Po(r,e,t,s,n){return Dt(this,void 0,void 0,function*(){return Br(r,"DELETE",e,s,n,t)})}var nf=function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(u){try{c(s.next(u))}catch(h){a(h)}}function l(u){try{c(s.throw(u))}catch(h){a(h)}}function c(u){u.done?i(u.value):n(u.value).then(o,l)}c((s=s.apply(r,e||[])).next())})};class af{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}execute(){return nf(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ne(e))return{data:null,error:e};throw e}})}}var of=function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(u){try{c(s.next(u))}catch(h){a(h)}}function l(u){try{c(s.throw(u))}catch(h){a(h)}}function c(u){u.done?i(u.value):n(u.value).then(o,l)}c((s=s.apply(r,e||[])).next())})},Oo;class lf{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Oo]="BlobDownloadBuilder",this.promise=null}asStream(){return new af(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return of(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ne(e))return{data:null,error:e};throw e}})}}Oo=Symbol.toStringTag;var we=function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(u){try{c(s.next(u))}catch(h){a(h)}}function l(u){try{c(s.throw(u))}catch(h){a(h)}}function c(u){u.done?i(u.value):n(u.value).then(o,l)}c((s=s.apply(r,e||[])).next())})};const cf={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},_i={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class uf{constructor(e,t={},s,n){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=s,this.fetch=Co(n)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,s,n){return we(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},_i),n);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&s instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",s)):typeof FormData<"u"&&s instanceof FormData?(i=s,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=s,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),n!=null&&n.headers&&(o=Object.assign(Object.assign({},o),n.headers));const c=this._removeEmptyFolders(t),u=this._getFinalPath(c),h=yield(e=="PUT"?pn:We)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ne(i))return{data:null,error:i};throw i}})}upload(e,t,s){return we(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,s)})}uploadToSignedUrl(e,t,s,n){return we(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),a=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",t);try{let l;const c=Object.assign({upsert:_i.upsert},n),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.append("cacheControl",c.cacheControl)):(l=s,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const h=yield pn(this.fetch,o.toString(),l,{headers:u});return{data:{path:i,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ne(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,t){return we(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const n=Object.assign({},this.headers);t!=null&&t.upsert&&(n["x-upsert"]="true");const i=yield We(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:n}),a=new URL(this.url+i.url),o=a.searchParams.get("token");if(!o)throw new Nn("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:o},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ne(s))return{data:null,error:s};throw s}})}update(e,t,s){return we(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,s)})}move(e,t,s){return we(this,void 0,void 0,function*(){try{return{data:yield We(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ne(n))return{data:null,error:n};throw n}})}copy(e,t,s){return we(this,void 0,void 0,function*(){try{return{data:{path:(yield We(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ne(n))return{data:null,error:n};throw n}})}createSignedUrl(e,t,s){return we(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),i=yield We(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:t},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const a=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ne(n))return{data:null,error:n};throw n}})}createSignedUrls(e,t,s){return we(this,void 0,void 0,function*(){try{const n=yield We(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),i=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:n.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ne(n))return{data:null,error:n};throw n}})}download(e,t){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),a=i?`?${i}`:"",o=this._getFinalPath(e),l=()=>is(this.fetch,`${this.url}/${n}/${o}${a}`,{headers:this.headers,noResolveJson:!0});return new lf(l,this.shouldThrowOnError)}info(e){return we(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const s=yield is(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:fn(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ne(s))return{data:null,error:s};throw s}})}exists(e){return we(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield sf(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ne(s)&&s instanceof hn){const n=s.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,t){const s=this._getFinalPath(e),n=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&n.push(i);const o=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});l!==""&&n.push(l);let c=n.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${s}${c}`)}}}remove(e){return we(this,void 0,void 0,function*(){try{return{data:yield Po(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ne(t))return{data:null,error:t};throw t}})}list(e,t,s){return we(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},cf),t),{prefix:e||""});return{data:yield We(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},s),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ne(n))return{data:null,error:n};throw n}})}listV2(e,t){return we(this,void 0,void 0,function*(){try{const s=Object.assign({},e);return{data:yield We(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},t),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ne(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const df="2.75.1",hf={"X-Client-Info":`storage-js/${df}`};var qt=function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(u){try{c(s.next(u))}catch(h){a(h)}}function l(u){try{c(s.throw(u))}catch(h){a(h)}}function c(u){u.done?i(u.value):n(u.value).then(o,l)}c((s=s.apply(r,e||[])).next())})};class ff{constructor(e,t={},s,n){this.shouldThrowOnError=!1;const i=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},hf),t),this.fetch=Co(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return qt(this,void 0,void 0,function*(){try{return{data:yield is(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ne(e))return{data:null,error:e};throw e}})}getBucket(e){return qt(this,void 0,void 0,function*(){try{return{data:yield is(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ne(t))return{data:null,error:t};throw t}})}createBucket(e){return qt(this,arguments,void 0,function*(t,s={public:!1}){try{return{data:yield We(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ne(n))return{data:null,error:n};throw n}})}updateBucket(e,t){return qt(this,void 0,void 0,function*(){try{return{data:yield pn(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ne(s))return{data:null,error:s};throw s}})}emptyBucket(e){return qt(this,void 0,void 0,function*(){try{return{data:yield We(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ne(t))return{data:null,error:t};throw t}})}deleteBucket(e){return qt(this,void 0,void 0,function*(){try{return{data:yield Po(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ne(t))return{data:null,error:t};throw t}})}}class pf extends ff{constructor(e,t={},s,n){super(e,t,s,n)}from(e){return new uf(this.url,this.headers,e,this.fetch)}}const mf="2.75.1";let _r="";typeof Deno<"u"?_r="deno":typeof document<"u"?_r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?_r="react-native":_r="node";const gf={"X-Client-Info":`supabase-js-${_r}/${mf}`},vf={headers:gf},yf={schema:"public"},wf={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},bf={};var xf=function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(u){try{c(s.next(u))}catch(h){a(h)}}function l(u){try{c(s.throw(u))}catch(h){a(h)}}function c(u){u.done?i(u.value):n(u.value).then(o,l)}c((s=s.apply(r,e||[])).next())})};const _f=r=>{let e;return r?e=r:typeof fetch>"u"?e=po:e=fetch,(...t)=>e(...t)},Ef=()=>typeof Headers>"u"?mo:Headers,Sf=(r,e,t)=>{const s=_f(t),n=Ef();return(i,a)=>xf(void 0,void 0,void 0,function*(){var o;const l=(o=yield e())!==null&&o!==void 0?o:r;let c=new n(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",r),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),s(i,Object.assign(Object.assign({},a),{headers:c}))})};var Tf=function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(u){try{c(s.next(u))}catch(h){a(h)}}function l(u){try{c(s.throw(u))}catch(h){a(h)}}function c(u){u.done?i(u.value):n(u.value).then(o,l)}c((s=s.apply(r,e||[])).next())})};function kf(r){return r.endsWith("/")?r:r+"/"}function jf(r,e){var t,s;const{db:n,auth:i,realtime:a,global:o}=r,{db:l,auth:c,realtime:u,global:h}=e,p={db:Object.assign(Object.assign({},l),n),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},u),a),storage:{},global:Object.assign(Object.assign(Object.assign({},h),o),{headers:Object.assign(Object.assign({},(t=h==null?void 0:h.headers)!==null&&t!==void 0?t:{}),(s=o==null?void 0:o.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>Tf(this,void 0,void 0,function*(){return""})};return r.accessToken?p.accessToken=r.accessToken:delete p.accessToken,p}function Cf(r){const e=r==null?void 0:r.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(kf(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Ro="2.75.1",Yt=30*1e3,mn=3,zs=mn*Yt,Pf="http://localhost:9999",Of="supabase.auth.token",Rf={"X-Client-Info":`gotrue-js/${Ro}`},gn="X-Supabase-Api-Version",Ao={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Af=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Nf=10*60*1e3;class Rr extends Error{constructor(e,t,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=s}}function P(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class If extends Rr{constructor(e,t,s){super(e,t,s),this.name="AuthApiError",this.status=t,this.code=s}}function Lf(r){return P(r)&&r.name==="AuthApiError"}class kt extends Rr{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class yt extends Rr{constructor(e,t,s,n){super(e,s,n),this.name=t,this.status=s}}class ot extends yt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function $f(r){return P(r)&&r.name==="AuthSessionMissingError"}class Wt extends yt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Yr extends yt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Jr extends yt{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Df(r){return P(r)&&r.name==="AuthImplicitGrantRedirectError"}class Ei extends yt{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class vn extends yt{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Hs(r){return P(r)&&r.name==="AuthRetryableFetchError"}class Si extends yt{constructor(e,t,s){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=s}}class yn extends yt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const as="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ti=` 	
\r=`.split(""),Mf=(()=>{const r=new Array(128);for(let e=0;e<r.length;e+=1)r[e]=-1;for(let e=0;e<Ti.length;e+=1)r[Ti[e].charCodeAt(0)]=-2;for(let e=0;e<as.length;e+=1)r[as[e].charCodeAt(0)]=e;return r})();function ki(r,e,t){if(r!==null)for(e.queue=e.queue<<8|r,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;t(as[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;t(as[s]),e.queuedBits-=6}}function No(r,e,t){const s=Mf[r];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function ji(r){const e=[],t=a=>{e.push(String.fromCodePoint(a))},s={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},i=a=>{Bf(a,s,t)};for(let a=0;a<r.length;a+=1)No(r.charCodeAt(a),n,i);return e.join("")}function Uf(r,e){if(r<=127){e(r);return}else if(r<=2047){e(192|r>>6),e(128|r&63);return}else if(r<=65535){e(224|r>>12),e(128|r>>6&63),e(128|r&63);return}else if(r<=1114111){e(240|r>>18),e(128|r>>12&63),e(128|r>>6&63),e(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function Ff(r,e){for(let t=0;t<r.length;t+=1){let s=r.charCodeAt(t);if(s>55295&&s<=56319){const n=(s-55296)*1024&65535;s=(r.charCodeAt(t+1)-56320&65535|n)+65536,t+=1}Uf(s,e)}}function Bf(r,e,t){if(e.utf8seq===0){if(r<=127){t(r);return}for(let s=1;s<6;s+=1)if(!(r>>7-s&1)){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=r&31;else if(e.utf8seq===3)e.codepoint=r&15;else if(e.utf8seq===4)e.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|r&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function Xt(r){const e=[],t={queue:0,queuedBits:0},s=n=>{e.push(n)};for(let n=0;n<r.length;n+=1)No(r.charCodeAt(n),t,s);return new Uint8Array(e)}function qf(r){const e=[];return Ff(r,t=>e.push(t)),new Uint8Array(e)}function jt(r){const e=[],t={queue:0,queuedBits:0},s=n=>{e.push(n)};return r.forEach(n=>ki(n,t,s)),ki(null,t,s),e.join("")}function Wf(r){return Math.round(Date.now()/1e3)+r}function zf(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const e=Math.random()*16|0;return(r=="x"?e:e&3|8).toString(16)})}const _e=()=>typeof window<"u"&&typeof document<"u",xt={tested:!1,writable:!1},Io=()=>{if(!_e())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(xt.tested)return xt.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),xt.tested=!0,xt.writable=!0}catch{xt.tested=!0,xt.writable=!1}return xt.writable};function Hf(r){const e={},t=new URL(r);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((n,i)=>{e[i]=n})}catch{}return t.searchParams.forEach((s,n)=>{e[n]=s}),e}const Lo=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>Ur(async()=>{const{default:s}=await Promise.resolve().then(()=>dr);return{default:s}},void 0).then(({default:s})=>s(...t)):e=fetch,(...t)=>e(...t)},Kf=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",Jt=async(r,e,t)=>{await r.setItem(e,JSON.stringify(t))},_t=async(r,e)=>{const t=await r.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},nt=async(r,e)=>{await r.removeItem(e)};class Ts{constructor(){this.promise=new Ts.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Ts.promiseConstructor=Promise;function Ks(r){const e=r.split(".");if(e.length!==3)throw new yn("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!Af.test(e[s]))throw new yn("JWT not in base64url format");return{header:JSON.parse(ji(e[0])),payload:JSON.parse(ji(e[1])),signature:Xt(e[2]),raw:{header:e[0],payload:e[1]}}}async function Vf(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function Gf(r,e){return new Promise((s,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await r(i);if(!e(i,null,a)){s(a);return}}catch(a){if(!e(i,a)){n(a);return}}})()})}function Yf(r){return("0"+r.toString(16)).substr(-2)}function Jf(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=t.length;let n="";for(let i=0;i<56;i++)n+=t.charAt(Math.floor(Math.random()*s));return n}return crypto.getRandomValues(e),Array.from(e,Yf).join("")}async function Qf(r){const t=new TextEncoder().encode(r),s=await crypto.subtle.digest("SHA-256",t),n=new Uint8Array(s);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}async function Xf(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const t=await Qf(r);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function zt(r,e,t=!1){const s=Jf();let n=s;t&&(n+="/PASSWORD_RECOVERY"),await Jt(r,`${e}-code-verifier`,n);const i=await Xf(s);return[i,s===i?"plain":"s256"]}const Zf=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ep(r){const e=r.headers.get(gn);if(!e||!e.match(Zf))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function tp(r){if(!r)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(r<=e)throw new Error("JWT has expired")}function rp(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const sp=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ht(r){if(!sp.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Vs(){const r={};return new Proxy(r,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const s=t.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Ci(r){return JSON.parse(JSON.stringify(r))}var np=function(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(r);n<s.length;n++)e.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(r,s[n])&&(t[s[n]]=r[s[n]]);return t};const Et=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),ip=[502,503,504];async function Pi(r){var e;if(!Kf(r))throw new vn(Et(r),0);if(ip.includes(r.status))throw new vn(Et(r),r.status);let t;try{t=await r.json()}catch(i){throw new kt(Et(i),i)}let s;const n=ep(r);if(n&&n.getTime()>=Ao["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?s=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(s=t.error_code),s){if(s==="weak_password")throw new Si(Et(t),r.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new ot}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Si(Et(t),r.status,t.weak_password.reasons);throw new If(Et(t),r.status||500,s)}const ap=(r,e,t,s)=>{const n={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),n.body=JSON.stringify(s),Object.assign(Object.assign({},n),t))};async function N(r,e,t,s){var n;const i=Object.assign({},s==null?void 0:s.headers);i[gn]||(i[gn]=Ao["2024-01-01"].name),s!=null&&s.jwt&&(i.Authorization=`Bearer ${s.jwt}`);const a=(n=s==null?void 0:s.query)!==null&&n!==void 0?n:{};s!=null&&s.redirectTo&&(a.redirect_to=s.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await op(r,e,t+o,{headers:i,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(l):{data:Object.assign({},l),error:null}}async function op(r,e,t,s,n,i){const a=ap(e,s,n,i);let o;try{o=await r(t,Object.assign({},a))}catch(l){throw console.error(l),new vn(Et(l),0)}if(o.ok||await Pi(o),s!=null&&s.noResolveJson)return o;try{return await o.json()}catch(l){await Pi(l)}}function $e(r){var e;let t=null;up(r)&&(t=Object.assign({},r),r.expires_at||(t.expires_at=Wf(r.expires_in)));const s=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:t,user:s},error:null}}function Oi(r){const e=$e(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((t,s)=>t&&typeof s=="string",!0)&&(e.data.weak_password=r.weak_password),e}function lt(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function lp(r){return{data:r,error:null}}function cp(r){const{action_link:e,email_otp:t,hashed_token:s,redirect_to:n,verification_type:i}=r,a=np(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:t,hashed_token:s,redirect_to:n,verification_type:i},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function Ri(r){return r}function up(r){return r.access_token&&r.refresh_token&&r.expires_in}const Gs=["global","local","others"];var dp=function(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(r);n<s.length;n++)e.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(r,s[n])&&(t[s[n]]=r[s[n]]);return t};class hp{constructor({url:e="",headers:t={},fetch:s}){this.url=e,this.headers=t,this.fetch=Lo(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=Gs[0]){if(Gs.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Gs.join(", ")}`);try{return await N(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(P(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,t={}){try{return await N(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:lt})}catch(s){if(P(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:t}=e,s=dp(e,["options"]),n=Object.assign(Object.assign({},s),t);return"newEmail"in s&&(n.new_email=s==null?void 0:s.newEmail,delete n.newEmail),await N(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:cp,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(P(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await N(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:lt})}catch(t){if(P(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,s,n,i,a,o,l;try{const c={nextPage:null,lastPage:0,total:0},u=await N(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&s!==void 0?s:"",per_page:(i=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:Ri});if(u.error)throw u.error;const h=await u.json(),p=(a=u.headers.get("x-total-count"))!==null&&a!==void 0?a:0,f=(l=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(y=>{const g=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(y.split(";")[1].split("=")[1]);c[`${m}Page`]=g}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(P(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){Ht(e);try{return await N(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:lt})}catch(t){if(P(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){Ht(e);try{return await N(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:lt})}catch(s){if(P(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,t=!1){Ht(e);try{return await N(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:lt})}catch(s){if(P(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){Ht(e.userId);try{const{data:t,error:s}=await N(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:t,error:s}}catch(t){if(P(t))return{data:null,error:t};throw t}}async _deleteFactor(e){Ht(e.userId),Ht(e.id);try{return{data:await N(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(P(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,s,n,i,a,o,l;try{const c={nextPage:null,lastPage:0,total:0},u=await N(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&s!==void 0?s:"",per_page:(i=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:Ri});if(u.error)throw u.error;const h=await u.json(),p=(a=u.headers.get("x-total-count"))!==null&&a!==void 0?a:0,f=(l=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(y=>{const g=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(y.split(";")[1].split("=")[1]);c[`${m}Page`]=g}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(P(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await N(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(P(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await N(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(P(t))return{data:null,error:t};throw t}}async _deleteOAuthClient(e){try{return await N(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(P(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await N(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(P(t))return{data:null,error:t};throw t}}}function Ai(r={}){return{getItem:e=>r[e]||null,setItem:(e,t)=>{r[e]=t},removeItem:e=>{delete r[e]}}}const Kt={debug:!!(globalThis&&Io()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class $o extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class fp extends $o{}async function pp(r,e,t){Kt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),Kt.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async n=>{if(n){Kt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,n.name);try{return await t()}finally{Kt.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,n.name)}}else{if(e===0)throw Kt.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new fp(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(Kt.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}function mp(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Do(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function gp(r){return parseInt(r,16)}function vp(r){const e=new TextEncoder().encode(r);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function yp(r){var e;const{chainId:t,domain:s,expirationTime:n,issuedAt:i=new Date,nonce:a,notBefore:o,requestId:l,resources:c,scheme:u,uri:h,version:p}=r;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((e=r.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const f=Do(r.address),y=u?`${u}://${s}`:s,g=r.statement?`${r.statement}
`:"",m=`${y} wants you to sign in with your Ethereum account:
${f}

${g}`;let x=`URI: ${h}
Version: ${p}
Chain ID: ${t}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(n&&(x+=`
Expiration Time: ${n.toISOString()}`),o&&(x+=`
Not Before: ${o.toISOString()}`),l&&(x+=`
Request ID: ${l}`),c){let b=`
Resources:`;for(const w of c){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);b+=`
- ${w}`}x+=b}return`${m}
${x}`}class se extends Error{constructor({message:e,code:t,cause:s,name:n}){var i;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(i=n??(s instanceof Error?s.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=t}}class os extends se{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function wp({error:r,options:e}){var t,s,n;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new se({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(((t=i.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new se({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(e.mediation==="conditional"&&((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new se({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:r});if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new se({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new se({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new se({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return i.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new se({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new se({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){const a=window.location.hostname;if(Uo(a)){if(i.rp.id!==a)return new se({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new se({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new se({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new se({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new se({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}function bp({error:r,options:e}){const{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new se({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new se({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){const s=window.location.hostname;if(Uo(s)){if(t.rpId!==s)return new se({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new se({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new se({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new se({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}var Mo=function(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(r);n<s.length;n++)e.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(r,s[n])&&(t[s[n]]=r[s[n]]);return t};class xp{createNewAbortSignal(){if(this.controller){const t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const _p=new xp;function Ep(r){if(!r)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(r);const{challenge:e,user:t,excludeCredentials:s}=r,n=Mo(r,["challenge","user","excludeCredentials"]),i=Xt(e).buffer,a=Object.assign(Object.assign({},t),{id:Xt(t.id).buffer}),o=Object.assign(Object.assign({},n),{challenge:i,user:a});if(s&&s.length>0){o.excludeCredentials=new Array(s.length);for(let l=0;l<s.length;l++){const c=s[l];o.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Xt(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return o}function Sp(r){if(!r)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(r);const{challenge:e,allowCredentials:t}=r,s=Mo(r,["challenge","allowCredentials"]),n=Xt(e).buffer,i=Object.assign(Object.assign({},s),{challenge:n});if(t&&t.length>0){i.allowCredentials=new Array(t.length);for(let a=0;a<t.length;a++){const o=t[a];i.allowCredentials[a]=Object.assign(Object.assign({},o),{id:Xt(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return i}function Tp(r){var e;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const t=r;return{id:r.id,rawId:r.id,response:{attestationObject:jt(new Uint8Array(r.response.attestationObject)),clientDataJSON:jt(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function kp(r){var e;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const t=r,s=r.getClientExtensionResults(),n=r.response;return{id:r.id,rawId:r.id,response:{authenticatorData:jt(new Uint8Array(n.authenticatorData)),clientDataJSON:jt(new Uint8Array(n.clientDataJSON)),signature:jt(new Uint8Array(n.signature)),userHandle:n.userHandle?jt(new Uint8Array(n.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Uo(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}function Ni(){var r,e;return!!(_e()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((r=navigator==null?void 0:navigator.credentials)===null||r===void 0?void 0:r.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function jp(r){try{const e=await navigator.credentials.create(r);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new os("Browser returned unexpected credential type",e)}:{data:null,error:new os("Empty credential response",e)}}catch(e){return{data:null,error:wp({error:e,options:r})}}}async function Cp(r){try{const e=await navigator.credentials.get(r);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new os("Browser returned unexpected credential type",e)}:{data:null,error:new os("Empty credential response",e)}}catch(e){return{data:null,error:bp({error:e,options:r})}}}const Pp={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},Op={userVerification:"preferred",hints:["security-key"]};function ls(...r){const e=n=>n!==null&&typeof n=="object"&&!Array.isArray(n),t=n=>n instanceof ArrayBuffer||ArrayBuffer.isView(n),s={};for(const n of r)if(n)for(const i in n){const a=n[i];if(a!==void 0)if(Array.isArray(a))s[i]=a;else if(t(a))s[i]=a;else if(e(a)){const o=s[i];e(o)?s[i]=ls(o,a):s[i]=ls(a)}else s[i]=a}return s}function Rp(r,e){return ls(Pp,r,e||{})}function Ap(r,e){return ls(Op,r,e||{})}class Np{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:s,signal:n},i){try{const{data:a,error:o}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!a)return{data:null,error:o};const l=n??_p.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:c}=a.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${s}`),c.displayName||(c.displayName=c.name)}switch(a.webauthn.type){case"create":{const c=Rp(a.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:u,error:h}=await jp({publicKey:c,signal:l});return u?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}case"request":{const c=Ap(a.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:u,error:h}=await Cp(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:c,signal:l}));return u?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}}}catch(a){return P(a)?{data:null,error:a}:{data:null,error:new kt("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:t,webauthn:s}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:n}},i){if(!t)return{data:null,error:new Rr("rpId is required for WebAuthn authentication")};try{if(!Ni())return{data:null,error:new kt("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:s},signal:n},{request:i});if(!a)return{data:null,error:o};const{webauthn:l}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:l.type,rpId:t,rpOrigins:s,credential_response:l.credential_response}})}catch(a){return P(a)?{data:null,error:a}:{data:null,error:new kt("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:n},i){if(!t)return{data:null,error:new Rr("rpId is required for WebAuthn registration")};try{if(!Ni())return{data:null,error:new kt("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(u=>{var h;return(h=u.data)===null||h===void 0?void 0:h.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===e&&p.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:o};const{data:l,error:c}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:t,rpOrigins:s},signal:n},{create:i});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:t,rpOrigins:s,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(a){return P(a)?{data:null,error:a}:{data:null,error:new kt("Unexpected error in register",a)}}}}mp();const Ip={url:Pf,storageKey:Of,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Rf,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Ii(r,e,t){return await t()}const Vt={};class Ar{get jwks(){var e,t;return(t=(e=Vt[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){Vt[this.storageKey]=Object.assign(Object.assign({},Vt[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=Vt[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Vt[this.storageKey]=Object.assign(Object.assign({},Vt[this.storageKey]),{cachedAt:e})}constructor(e){var t,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ar.nextInstanceID,Ar.nextInstanceID+=1,this.instanceID>0&&_e()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},Ip),e);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new hp({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=Lo(n.fetch),this.lock=n.lock||Ii,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:_e()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=pp:this.lock=Ii,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Np(this)},this.persistSession?(n.storage?this.storage=n.storage:Io()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ai(this.memoryStorage)),n.userStorage&&(this.userStorage=n.userStorage)):(this.memoryStorage={},this.storage=Ai(this.memoryStorage)),_e()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ro}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=Hf(window.location.href);let s="none";if(this._isImplicitGrantCallback(t)?s="implicit":await this._isPKCECallback(t)&&(s="pkce"),_e()&&this.detectSessionInUrl&&s!=="none"){const{data:n,error:i}=await this._getSessionFromURL(t,s);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Df(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:o}=n;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return P(t)?{error:t}:{error:new kt("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,s,n;try{const i=await N(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.captchaToken}},xform:$e}),{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(P(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var t,s,n;try{let i;if("email"in e){const{email:u,password:h,options:p}=e;let f=null,y=null;this.flowType==="pkce"&&([f,y]=await zt(this.storage,this.storageKey)),i=await N(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:u,password:h,data:(t=p==null?void 0:p.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:f,code_challenge_method:y},xform:$e})}else if("phone"in e){const{phone:u,password:h,options:p}=e;i=await N(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(s=p==null?void 0:p.data)!==null&&s!==void 0?s:{},channel:(n=p==null?void 0:p.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:$e})}else throw new Yr("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(P(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let t;if("email"in e){const{email:i,password:a,options:o}=e;t=await N(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Oi})}else if("phone"in e){const{phone:i,password:a,options:o}=e;t=await N(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Oi})}else throw new Yr("You must provide either an email or phone number and a password");const{data:s,error:n}=t;return n?{data:{user:null,session:null},error:n}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new Wt}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:n})}catch(t){if(P(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,s,n,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,s,n,i,a,o,l,c,u,h,p;let f,y;if("message"in e)f=e.message,y=e.signature;else{const{chain:g,wallet:m,statement:x,options:b}=e;let w;if(_e())if(typeof m=="object")w=m;else{const C=window;if("ethereum"in C&&typeof C.ethereum=="object"&&"request"in C.ethereum&&typeof C.ethereum.request=="function")w=C.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=m}const S=new URL((t=b==null?void 0:b.url)!==null&&t!==void 0?t:window.location.href),T=await w.request({method:"eth_requestAccounts"}).then(C=>C).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!T||T.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=Do(T[0]);let j=(s=b==null?void 0:b.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!j){const C=await w.request({method:"eth_chainId"});j=gp(C)}const D={domain:S.host,address:E,statement:x,uri:S.href,version:"1",chainId:j,nonce:(n=b==null?void 0:b.signInWithEthereum)===null||n===void 0?void 0:n.nonce,issuedAt:(a=(i=b==null?void 0:b.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(o=b==null?void 0:b.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=b==null?void 0:b.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=b==null?void 0:b.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=b==null?void 0:b.signInWithEthereum)===null||u===void 0?void 0:u.resources};f=yp(D),y=await w.request({method:"personal_sign",params:[vp(f),E]})}try{const{data:g,error:m}=await N(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:y},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:$e});if(m)throw m;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new Wt}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:m})}catch(g){if(P(g))return{data:{user:null,session:null},error:g};throw g}}async signInWithSolana(e){var t,s,n,i,a,o,l,c,u,h,p,f;let y,g;if("message"in e)y=e.message,g=e.signature;else{const{chain:m,wallet:x,statement:b,options:w}=e;let S;if(_e())if(typeof x=="object")S=x;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))S=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=x}const T=new URL((t=w==null?void 0:w.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in S&&S.signIn){const E=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:T.host,uri:T.href}),b?{statement:b}:null));let j;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")j=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)j=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)y=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),g=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${T.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${T.href}`,`Issued At: ${(n=(s=w==null?void 0:w.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&n!==void 0?n:new Date().toISOString()}`,...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((h=(u=w==null?void 0:w.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...w.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const E=await S.signMessage(new TextEncoder().encode(y),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=E}}try{const{data:m,error:x}=await N(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:jt(g)},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:$e});if(x)throw x;return!m||!m.session||!m.user?{data:{user:null,session:null},error:new Wt}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:Object.assign({},m),error:x})}catch(m){if(P(m))return{data:{user:null,session:null},error:m};throw m}}async _exchangeCodeForSession(e){const t=await _t(this.storage,`${this.storageKey}-code-verifier`),[s,n]=(t??"").split("/");try{const{data:i,error:a}=await N(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:$e});if(await nt(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Wt}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:a})}catch(i){if(P(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:t,provider:s,token:n,access_token:i,nonce:a}=e,o=await N(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:n,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:$e}),{data:l,error:c}=o;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Wt}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(t){if(P(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,s,n,i,a;try{if("email"in e){const{email:o,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await zt(this.storage,this.storageKey));const{error:h}=await N(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(t=l==null?void 0:l.data)!==null&&t!==void 0?t:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:o,options:l}=e,{data:c,error:u}=await N(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new Yr("You must provide either an email or phone number.")}catch(o){if(P(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var t,s;try{let n,i;"options"in e&&(n=(t=e.options)===null||t===void 0?void 0:t.redirectTo,i=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:a,error:o}=await N(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:$e});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,c=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(n){if(P(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var t,s,n;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await zt(this.storage,this.storageKey)),await N(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&s!==void 0?s:void 0}),!((n=e==null?void 0:e.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:lp})}catch(i){if(P(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:s}=e;if(s)throw s;if(!t)throw new ot;const{error:n}=await N(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(P(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:s,type:n,options:i}=e,{error:a}=await N(this.fetch,"POST",t,{headers:this.headers,body:{email:s,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:s,type:n,options:i}=e,{data:a,error:o}=await N(this.fetch,"POST",t,{headers:this.headers,body:{phone:s,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new Yr("You must provide either an email or phone number and a type")}catch(t){if(P(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await s,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=t();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await _t(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<zs:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const a=await _t(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=Vs()}if(this.storage.isServer&&e.user){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!a&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{data:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await N(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:lt}):await this._useSession(async t=>{var s,n,i;const{data:a,error:o}=t;if(o)throw o;return!(!((s=a.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ot}:await N(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:lt})})}catch(t){if(P(t))return $f(t)&&(await this._removeSession(),await nt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async s=>{const{data:n,error:i}=s;if(i)throw i;if(!n.session)throw new ot;const a=n.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await zt(this.storage,this.storageKey));const{data:c,error:u}=await N(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:lt});if(u)throw u;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(s){if(P(s))return{data:{user:null},error:s};throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ot;const t=Date.now()/1e3;let s=t,n=!0,i=null;const{payload:a}=Ks(e.access_token);if(a.exp&&(s=a.exp,n=s<=t),n){const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:s-t,expires_at:s},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(t){if(P(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var s;if(!e){const{data:a,error:o}=t;if(o)throw o;e=(s=a.session)!==null&&s!==void 0?s:void 0}if(!(e!=null&&e.refresh_token))throw new ot;const{data:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(P(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!_e())throw new Jr("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Jr(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new Ei("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Jr("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Ei("No code detected.");const{data:b,error:w}=await this._exchangeCodeForSession(e.code);if(w)throw w;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:n,access_token:i,refresh_token:a,expires_in:o,expires_at:l,token_type:c}=e;if(!i||!o||!a||!c)throw new Jr("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(o);let p=u+h;l&&(p=parseInt(l));const f=p-u;f*1e3<=Yt&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const y=p-h;u-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,p,u):u-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,p,u);const{data:g,error:m}=await this._getUser(i);if(m)throw m;const x={provider_token:s,provider_refresh_token:n,access_token:i,expires_in:h,expires_at:p,refresh_token:a,token_type:c,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:e.type},error:null}}catch(s){if(P(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await _t(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var s;const{data:n,error:i}=t;if(i)return{error:i};const a=(s=n.session)===null||s===void 0?void 0:s.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(Lf(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await nt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=zf(),s={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async t=>{var s,n;try{const{data:{session:i},error:a}=t;if(a)throw a;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,t={}){let s=null,n=null;this.flowType==="pkce"&&([s,n]=await zt(this.storage,this.storageKey,!0));try{return await N(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:n,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(i){if(P(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:t,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(P(t))return{data:null,error:t};throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:s,error:n}=await this._useSession(async i=>{var a,o,l,c,u;const{data:h,error:p}=i;if(p)throw p;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await N(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(n)throw n;return _e()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:e.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(P(s))return{data:{provider:e.provider,url:null},error:s};throw s}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var s;try{const{error:n,data:{session:i}}=t;if(n)throw n;const{options:a,provider:o,token:l,access_token:c,nonce:u}=e,h=await N(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=i==null?void 0:i.access_token)!==null&&s!==void 0?s:void 0,body:{provider:o,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:$e}),{data:p,error:f}=h;return f?{data:{user:null,session:null},error:f}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new Wt}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),{data:p,error:f})}catch(n){if(P(n))return{data:{user:null,session:null},error:n};throw n}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var s,n;const{data:i,error:a}=t;if(a)throw a;return await N(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&n!==void 0?n:void 0})})}catch(t){if(P(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const s=Date.now();return await Gf(async n=>(n>0&&await Vf(200*Math.pow(2,n-1)),this._debug(t,"refreshing attempt",n),await N(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:$e})),(n,i)=>{const a=200*Math.pow(2,n);return i&&Hs(i)&&Date.now()+a-s<Yt})}catch(s){if(this._debug(t,"error",s),P(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",s),_e()&&!t.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,t;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const n=await _t(this.storage,this.storageKey);if(n&&this.userStorage){let a=await _t(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:n.user},await Jt(this.userStorage,this.storageKey+"-user",a)),n.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:Vs()}else if(n&&!n.user&&!n.user){const a=await _t(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(n.user=a.user,await nt(this.storage,this.storageKey+"-user"),await Jt(this.storage,this.storageKey,n)):n.user=Vs()}if(this._debug(s,"session from storage",n),!this._isValidSession(n)){this._debug(s,"session is not valid"),n!==null&&await this._removeSession();return}const i=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<zs;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${zs}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:a}=await this._callRefreshToken(n.refresh_token);a&&(console.error(a),Hs(a)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(n.user&&n.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(n.access_token);!o&&(a!=null&&a.user)?(n.user=a.user,await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(s,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(s,"error",n),console.error(n);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var t,s;if(!e)throw new ot;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new Ts;const{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new ot;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={data:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(n,"error",i),P(i)){const a={data:null,error:i};return Hs(i)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(a),a}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,t,s=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",t,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:t});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,t)}catch(l){i.push(l)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),s=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&t.user&&await Jt(this.userStorage,this.storageKey+"-user",{user:t.user});const n=Object.assign({},t);delete n.user;const i=Ci(n);await Jt(this.storage,this.storageKey,i)}else{const n=Ci(t);await Jt(this.storage,this.storageKey,n)}}async _removeSession(){this._debug("#_removeSession()"),await nt(this.storage,this.storageKey),await nt(this.storage,this.storageKey+"-code-verifier"),await nt(this.storage,this.storageKey+"-user"),this.userStorage&&await nt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&_e()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Yt);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:s}}=t;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((s.expires_at*1e3-e)/Yt);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${Yt}ms, refresh threshold is ${mn} ticks`),n<=mn&&await this._callRefreshToken(s.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof $o)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!_e()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,s){const n=[`provider=${encodeURIComponent(t)}`];if(s!=null&&s.redirectTo&&n.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&n.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[i,a]=await zt(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});n.push(o.toString())}if(s!=null&&s.queryParams){const i=new URLSearchParams(s.queryParams);n.push(i.toString())}return s!=null&&s.skipBrowserRedirect&&n.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var s;const{data:n,error:i}=t;return i?{data:null,error:i}:await N(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token})})}catch(t){if(P(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var s,n;const{data:i,error:a}=t;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await N(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&l.type==="totp"&&(!((n=l==null?void 0:l.totp)===null||n===void 0)&&n.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(t){if(P(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var s;const{data:n,error:i}=t;if(i)return{data:null,error:i};const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Tp(e.webauthn.credential_response):kp(e.webauthn.credential_response)})}:{code:e.code}),{data:o,error:l}=await N(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(t){if(P(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var s;const{data:n,error:i}=t;if(i)return{data:null,error:i};const a=await N(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token});if(a.error)return a;const{data:o}=a;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:Ep(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:Sp(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(P(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:s}=await this.getUser();if(s)return{data:null,error:s};const n={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=t==null?void 0:t.factors)!==null&&e!==void 0?e:[])n.all.push(i),i.status==="verified"&&n[i.factor_type].push(i);return{data:n,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,s;const{data:{session:n},error:i}=e;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Ks(n.access_token);let o=null;a.aal&&(o=a.aal);let l=o;((s=(t=n.user.factors)===null||t===void 0?void 0:t.filter(h=>h.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(l="aal2");const u=a.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,t={keys:[]}){let s=t.keys.find(o=>o.kid===e);if(s)return s;const n=Date.now();if(s=this.jwks.keys.find(o=>o.kid===e),s&&this.jwks_cached_at+Nf>n)return s;const{data:i,error:a}=await N(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=n,s=i.keys.find(o=>o.kid===e),!s)?null:s}async getClaims(e,t={}){try{let s=e;if(!s){const{data:f,error:y}=await this.getSession();if(y||!f.session)return{data:null,error:y};s=f.session.access_token}const{header:n,payload:i,signature:a,raw:{header:o,payload:l}}=Ks(s);t!=null&&t.allowExpired||tp(i.exp);const c=!n.alg||n.alg.startsWith("HS")||!n.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(n.kid,t!=null&&t.keys?{keys:t.keys}:t==null?void 0:t.jwks);if(!c){const{error:f}=await this.getUser(s);if(f)throw f;return{data:{claims:i,header:n,signature:a},error:null}}const u=rp(n.alg),h=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,a,qf(`${o}.${l}`)))throw new yn("Invalid JWT signature");return{data:{claims:i,header:n,signature:a},error:null}}catch(s){if(P(s))return{data:null,error:s};throw s}}}Ar.nextInstanceID=0;const Lp=Ar;class $p extends Lp{constructor(e){super(e)}}var Dp=function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(u){try{c(s.next(u))}catch(h){a(h)}}function l(u){try{c(s.throw(u))}catch(h){a(h)}}function c(u){u.done?i(u.value):n(u.value).then(o,l)}c((s=s.apply(r,e||[])).next())})};class Mp{constructor(e,t,s){var n,i,a;this.supabaseUrl=e,this.supabaseKey=t;const o=Cf(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const l=`sb-${o.hostname.split(".")[0]}-auth-token`,c={db:yf,realtime:bf,auth:Object.assign(Object.assign({},wf),{storageKey:l}),global:vf},u=jf(s??{},c);this.storageKey=(n=u.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=u.auth)!==null&&a!==void 0?a:{},this.headers,u.global.fetch),this.fetch=Sf(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Nh(new URL("rest/v1",o).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new pf(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new dh(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,s)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return Dp(this,void 0,void 0,function*(){var e,t;if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(t=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:s,storage:n,userStorage:i,storageKey:a,flowType:o,lock:l,debug:c},u,h){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new $p({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),u),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:s,storage:n,userStorage:i,flowType:o,lock:l,debug:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Jh(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,s)=>{this._handleTokenChanged(t,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(e,t,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Up=(r,e,t)=>new Mp(r,e,t);function Fp(){if(typeof window<"u"||typeof process>"u")return!1;const r=process.version;if(r==null)return!1;const e=r.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Fp()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Bp=void 0,qp=void 0,J=Up(Bp,qp,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),Fo=v.createContext(void 0);function Wp({children:r}){const[e,t]=v.useState(null),[s,n]=v.useState(null),[i,a]=v.useState(!0),o=bs();v.useEffect(()=>{const{data:{subscription:h}}=J.auth.onAuthStateChange((p,f)=>{n(f),t((f==null?void 0:f.user)??null),a(!1)});return J.auth.getSession().then(({data:{session:p}})=>{n(p),t((p==null?void 0:p.user)??null),a(!1)}),()=>h.unsubscribe()},[]);const l=async(h,p,f)=>{const y=`${window.location.origin}/`,{error:g}=await J.auth.signUp({email:h,password:p,options:{emailRedirectTo:y,data:{full_name:f}}});return g||o("/"),{error:g}},c=async(h,p)=>{const{error:f}=await J.auth.signInWithPassword({email:h,password:p});return f||o("/"),{error:f}},u=async()=>{await J.auth.signOut(),o("/auth")};return d.jsx(Fo.Provider,{value:{user:e,session:s,signUp:l,signIn:c,signOut:u,loading:i},children:r})}function Be(){const r=v.useContext(Fo);if(r===void 0)throw new Error("useAuth must be used within an AuthProvider");return r}const zp=fs("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),de=v.forwardRef(({className:r,variant:e,size:t,asChild:s=!1,...n},i)=>{const a=s?yl:"button";return d.jsx(a,{className:re(zp({variant:e,size:t,className:r})),ref:i,...n})});de.displayName="Button";const ct=v.forwardRef(({className:r,type:e,...t},s)=>d.jsx("input",{type:e,className:re("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:s,...t}));ct.displayName="Input";var Hp="Label",Bo=v.forwardRef((r,e)=>d.jsx(Xe.label,{...r,ref:e,onMouseDown:t=>{var n;t.target.closest("button, input, select, textarea")||((n=r.onMouseDown)==null||n.call(r,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));Bo.displayName=Hp;var qo=Bo;const Kp=fs("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ee=v.forwardRef(({className:r,...e},t)=>d.jsx(qo,{ref:t,className:re(Kp(),r),...e}));Ee.displayName=qo.displayName;const Se=v.forwardRef(({className:r,...e},t)=>d.jsx("div",{ref:t,className:re("rounded-lg border bg-card text-card-foreground shadow-sm",r),...e}));Se.displayName="Card";const Ce=v.forwardRef(({className:r,...e},t)=>d.jsx("div",{ref:t,className:re("flex flex-col space-y-1.5 p-6",r),...e}));Ce.displayName="CardHeader";const Pe=v.forwardRef(({className:r,...e},t)=>d.jsx("h3",{ref:t,className:re("text-2xl font-semibold leading-none tracking-tight",r),...e}));Pe.displayName="CardTitle";const Oe=v.forwardRef(({className:r,...e},t)=>d.jsx("p",{ref:t,className:re("text-sm text-muted-foreground",r),...e}));Oe.displayName="CardDescription";const Te=v.forwardRef(({className:r,...e},t)=>d.jsx("div",{ref:t,className:re("p-6 pt-0",r),...e}));Te.displayName="CardContent";const Vp=v.forwardRef(({className:r,...e},t)=>d.jsx("div",{ref:t,className:re("flex items-center p-6 pt-0",r),...e}));Vp.displayName="CardFooter";const In=wl,ks=v.forwardRef(({className:r,...e},t)=>d.jsx(Zi,{ref:t,className:re("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",r),...e}));ks.displayName=Zi.displayName;const gt=v.forwardRef(({className:r,...e},t)=>d.jsx(ea,{ref:t,className:re("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",r),...e}));gt.displayName=ea.displayName;const vt=v.forwardRef(({className:r,...e},t)=>d.jsx(ta,{ref:t,className:re("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r),...e}));vt.displayName=ta.displayName;function Gp(){const{signUp:r,signIn:e}=Be(),[t,s]=v.useState(!1),n=async a=>{a.preventDefault(),s(!0);const o=new FormData(a.currentTarget),l=o.get("email"),c=o.get("password"),u=o.get("fullName"),{error:h}=await r(l,c,u);h?B.error(h.message):B.success("Account created successfully!"),s(!1)},i=async a=>{a.preventDefault(),s(!0);const o=new FormData(a.currentTarget),l=o.get("email"),c=o.get("password"),{error:u}=await e(l,c);u&&B.error(u.message),s(!1)};return d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background via-background to-muted/20 p-4",children:d.jsxs(Se,{className:"w-full max-w-md shadow-[var(--shadow-card)]",children:[d.jsxs(Ce,{className:"text-center space-y-2",children:[d.jsx("div",{className:"mx-auto w-12 h-12 bg-gradient-to-br from-primary to-secondary rounded-xl flex items-center justify-center mb-2",children:d.jsx(_n,{className:"w-6 h-6 text-primary-foreground"})}),d.jsx(Pe,{className:"text-2xl font-bold",children:"Resume ATS Optimizer"}),d.jsx(Oe,{children:"AI-powered resume tailoring for maximum ATS compatibility"})]}),d.jsx(Te,{children:d.jsxs(In,{defaultValue:"signin",className:"w-full",children:[d.jsxs(ks,{className:"grid w-full grid-cols-2",children:[d.jsx(gt,{value:"signin",children:"Sign In"}),d.jsx(gt,{value:"signup",children:"Sign Up"})]}),d.jsx(vt,{value:"signin",children:d.jsxs("form",{onSubmit:i,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ee,{htmlFor:"signin-email",children:"Email"}),d.jsx(ct,{id:"signin-email",name:"email",type:"email",placeholder:"you@example.com",required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ee,{htmlFor:"signin-password",children:"Password"}),d.jsx(ct,{id:"signin-password",name:"password",type:"password",placeholder:"••••••••",required:!0})]}),d.jsx(de,{type:"submit",className:"w-full",disabled:t,children:t?"Signing in...":"Sign In"})]})}),d.jsx(vt,{value:"signup",children:d.jsxs("form",{onSubmit:n,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ee,{htmlFor:"signup-name",children:"Full Name"}),d.jsx(ct,{id:"signup-name",name:"fullName",type:"text",placeholder:"John Doe",required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ee,{htmlFor:"signup-email",children:"Email"}),d.jsx(ct,{id:"signup-email",name:"email",type:"email",placeholder:"you@example.com",required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ee,{htmlFor:"signup-password",children:"Password"}),d.jsx(ct,{id:"signup-password",name:"password",type:"password",placeholder:"••••••••",required:!0,minLength:6})]}),d.jsx(de,{type:"submit",className:"w-full",disabled:t,children:t?"Creating account...":"Create Account"})]})})]})})]})})}const Qe=v.forwardRef(({className:r,...e},t)=>d.jsx("textarea",{className:re("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...e}));Qe.displayName="Textarea";function Yp({onUploadSuccess:r}){const{user:e}=Be(),[t,s]=v.useState(""),[n,i]=v.useState(!1),a=async()=>{if(!e||!t.trim()){B.error("Please enter your LaTeX resume content");return}i(!0);try{const{error:o}=await J.from("resumes").insert({user_id:e.id,latex_content:t,version:1,is_current:!0});if(o)throw o;B.success("Resume uploaded successfully!"),r()}catch(o){console.error("Error uploading resume:",o),B.error(o.message||"Failed to upload resume")}finally{i(!1)}};return d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ee,{htmlFor:"latex-content",children:"LaTeX Resume Content"}),d.jsx(Qe,{id:"latex-content",placeholder:"Paste your LaTeX resume here...",value:t,onChange:o=>s(o.target.value),className:"min-h-[300px] font-mono text-sm"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Paste your complete LaTeX resume source code here. This will be your master resume that we'll optimize for each job application."})]}),d.jsxs(de,{onClick:a,disabled:n,className:"w-full",children:[d.jsx(rs,{className:"w-4 h-4 mr-2"}),n?"Uploading...":"Upload Resume"]})]})}function Jp({onUploadSuccess:r}){const{user:e}=Be(),[t,s]=v.useState(""),[n,i]=v.useState(!1),a=async()=>{if(!e||!t.trim()){B.error("Please enter your LaTeX cover letter content");return}i(!0);try{const{error:o}=await J.from("cover_letters").insert({user_id:e.id,latex_content:t,version:1,is_current:!0});if(o)throw o;B.success("Cover letter uploaded successfully!"),r()}catch(o){console.error("Error uploading cover letter:",o),B.error(o.message||"Failed to upload cover letter")}finally{i(!1)}};return d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ee,{htmlFor:"latex-content",children:"LaTeX Cover Letter Content"}),d.jsx(Qe,{id:"latex-content",placeholder:"Paste your LaTeX cover letter here...",value:t,onChange:o=>s(o.target.value),className:"min-h-[300px] font-mono text-sm"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Paste your complete LaTeX cover letter source code here. This will be your master cover letter template that we'll customize for each job application."})]}),d.jsxs(de,{onClick:a,disabled:n,className:"w-full",children:[d.jsx(rs,{className:"w-4 h-4 mr-2"}),n?"Uploading...":"Upload Cover Letter"]})]})}var Qp={};function Xp(){const{user:r,session:e}=Be(),[t,s]=v.useState(""),[n,i]=v.useState(""),[a,o]=v.useState(""),[l,c]=v.useState(!1),[u,h]=v.useState(null),[p,f]=v.useState(null),y=async m=>{var x,b;if(m.preventDefault(),!r||!a.trim()){B.error("Please fill in all required fields");return}c(!0),h(null),f(null);try{const{data:w,error:S}=await J.from("job_descriptions").insert({user_id:r.id,title:t,company:n,description:a}).select().single();if(S)throw S;const T=await J.auth.getSession(),E=(x=T==null?void 0:T.data)==null?void 0:x.session;if(!E||!E.access_token)throw new Error("User not authenticated.");const j=E.access_token,D=await fetch("/api/optimize-resume",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${j}`},body:JSON.stringify({jobDescriptionId:w.id})});if(!D.ok){const Z=await D.json();throw new Error(Z.error||"Failed to optimize resume")}const C=await D.json(),G=null;h(C);const q=await J.auth.getSession(),R=(b=q==null?void 0:q.data)==null?void 0:b.session;if(!R||!R.access_token)throw new Error("User not authenticated.");const ge=R.access_token,O=await fetch("/api/generate-cover-letter",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ge}`},body:JSON.stringify({jobDescriptionId:w.id})});if(!O.ok){const Z=await O.json();throw new Error(Z.error||"Failed to generate cover letter")}const Q=await O.json();null||(f(Q),B.success("Resume and cover letter generated successfully!")),s(""),i(""),o("")}catch(w){console.error("Error optimizing resume:",w),B.error(w.message||"Failed to optimize resume")}finally{c(!1)}},g=async m=>{const x=m==="resume"?u:p;if(x)try{const b=await fetch("https://mynsuwuznnjqwhaurcmk.supabase.co/functions/v1/latex-convert",{method:"POST",headers:{"x-api-key":Qp.NEXT_PUBLIC_LATEX_CONVERT_API_KEY||"","Content-Type":"application/json"},body:JSON.stringify({latex:x.optimized_latex})});if(!b.ok){const j=await b.text();throw new Error(j||"Failed to convert LaTeX to PDF")}const w=await b.json(),S=await fetch(`data:application/pdf;base64,${w.pdf}`).then(j=>j.blob()),T=URL.createObjectURL(S),E=document.createElement("a");E.href=T,E.download=`${m}_${x.id.slice(0,8)}.pdf`,document.body.appendChild(E),E.click(),document.body.removeChild(E),URL.revokeObjectURL(T),B.success(`${m==="resume"?"Resume":"Cover letter"} PDF downloaded successfully!`)}catch(b){console.error(`Error downloading ${m} PDF:`,b),B.error(b.message||`Failed to generate ${m} PDF`)}};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("form",{onSubmit:y,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ee,{htmlFor:"job-title",children:"Job Title *"}),d.jsx(ct,{id:"job-title",value:t,onChange:m=>s(m.target.value),placeholder:"e.g., Senior Software Engineer",required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ee,{htmlFor:"company",children:"Company"}),d.jsx(ct,{id:"company",value:n,onChange:m=>i(m.target.value),placeholder:"e.g., Google"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ee,{htmlFor:"description",children:"Job Description *"}),d.jsx(Qe,{id:"description",value:a,onChange:m=>o(m.target.value),placeholder:"Paste the complete job description here...",className:"min-h-[200px]",required:!0})]}),d.jsxs(de,{type:"submit",disabled:l,className:"w-full",children:[d.jsx(Zr,{className:"w-4 h-4 mr-2"}),l?"Optimizing...":"Optimize Resume"]})]}),u&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs(Se,{className:"shadow-[var(--shadow-elegant)] border-primary/20",children:[d.jsxs(Ce,{children:[d.jsxs(Pe,{className:"flex items-center gap-2",children:[d.jsx(Zr,{className:"w-5 h-5 text-primary"}),"Resume Optimization Results"]}),d.jsxs(Oe,{children:["ATS Score: ",d.jsxs("span",{className:"font-bold text-accent",children:[u.ats_score,"%"]})]})]}),d.jsxs(Te,{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold mb-2",children:"AI Suggestions:"}),d.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:u.suggestions})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold mb-2",children:"Optimized LaTeX:"}),d.jsx(Qe,{value:u.optimized_latex,readOnly:!0,className:"min-h-[300px] font-mono text-sm"})]}),d.jsxs(de,{onClick:()=>g("resume"),className:"w-full",children:[d.jsx(ts,{className:"w-4 h-4 mr-2"}),"Download Resume PDF"]})]})]}),p&&d.jsxs(Se,{className:"shadow-[var(--shadow-elegant)] border-primary/20",children:[d.jsxs(Ce,{children:[d.jsxs(Pe,{className:"flex items-center gap-2",children:[d.jsx(Zr,{className:"w-5 h-5 text-primary"}),"Cover Letter Generation Results"]}),d.jsxs(Oe,{children:["ATS Score: ",d.jsxs("span",{className:"font-bold text-accent",children:[p.ats_score,"%"]})]})]}),d.jsxs(Te,{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold mb-2",children:"AI Suggestions:"}),d.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:p.suggestions})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold mb-2",children:"Generated LaTeX:"}),d.jsx(Qe,{value:p.optimized_latex,readOnly:!0,className:"min-h-[300px] font-mono text-sm"})]}),d.jsxs(de,{onClick:()=>g("cover-letter"),className:"w-full",children:[d.jsx(ts,{className:"w-4 h-4 mr-2"}),"Download Cover Letter PDF"]})]})]})]})]})}const Zp=fs("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function em({className:r,variant:e,...t}){return d.jsx("div",{className:re(Zp({variant:e}),r),...t})}function qe(r){const e=Object.prototype.toString.call(r);return r instanceof Date||typeof r=="object"&&e==="[object Date]"?new r.constructor(+r):typeof r=="number"||e==="[object Number]"||typeof r=="string"||e==="[object String]"?new Date(r):new Date(NaN)}function Lt(r,e){return r instanceof Date?new r.constructor(e):new Date(e)}const Wo=6048e5,tm=864e5;let rm={};function js(){return rm}function Nr(r,e){var o,l,c,u;const t=js(),s=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??t.weekStartsOn??((u=(c=t.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,n=qe(r),i=n.getDay(),a=(i<s?7:0)+i-s;return n.setDate(n.getDate()-a),n.setHours(0,0,0,0),n}function cs(r){return Nr(r,{weekStartsOn:1})}function zo(r){const e=qe(r),t=e.getFullYear(),s=Lt(r,0);s.setFullYear(t+1,0,4),s.setHours(0,0,0,0);const n=cs(s),i=Lt(r,0);i.setFullYear(t,0,4),i.setHours(0,0,0,0);const a=cs(i);return e.getTime()>=n.getTime()?t+1:e.getTime()>=a.getTime()?t:t-1}function Li(r){const e=qe(r);return e.setHours(0,0,0,0),e}function $i(r){const e=qe(r),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+r-+t}function sm(r,e){const t=Li(r),s=Li(e),n=+t-$i(t),i=+s-$i(s);return Math.round((n-i)/tm)}function nm(r){const e=zo(r),t=Lt(r,0);return t.setFullYear(e,0,4),t.setHours(0,0,0,0),cs(t)}function im(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function am(r){if(!im(r)&&typeof r!="number")return!1;const e=qe(r);return!isNaN(Number(e))}function om(r){const e=qe(r),t=Lt(r,0);return t.setFullYear(e.getFullYear(),0,1),t.setHours(0,0,0,0),t}const lm={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},cm=(r,e,t)=>{let s;const n=lm[r];return typeof n=="string"?s=n:e===1?s=n.one:s=n.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+s:s+" ago":s};function Ys(r){return(e={})=>{const t=e.width?String(e.width):r.defaultWidth;return r.formats[t]||r.formats[r.defaultWidth]}}const um={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},dm={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},hm={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},fm={date:Ys({formats:um,defaultWidth:"full"}),time:Ys({formats:dm,defaultWidth:"full"}),dateTime:Ys({formats:hm,defaultWidth:"full"})},pm={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},mm=(r,e,t,s)=>pm[r];function wr(r){return(e,t)=>{const s=t!=null&&t.context?String(t.context):"standalone";let n;if(s==="formatting"&&r.formattingValues){const a=r.defaultFormattingWidth||r.defaultWidth,o=t!=null&&t.width?String(t.width):a;n=r.formattingValues[o]||r.formattingValues[a]}else{const a=r.defaultWidth,o=t!=null&&t.width?String(t.width):r.defaultWidth;n=r.values[o]||r.values[a]}const i=r.argumentCallback?r.argumentCallback(e):e;return n[i]}}const gm={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},vm={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ym={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},wm={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},bm={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},xm={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},_m=(r,e)=>{const t=Number(r),s=t%100;if(s>20||s<10)switch(s%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},Em={ordinalNumber:_m,era:wr({values:gm,defaultWidth:"wide"}),quarter:wr({values:vm,defaultWidth:"wide",argumentCallback:r=>r-1}),month:wr({values:ym,defaultWidth:"wide"}),day:wr({values:wm,defaultWidth:"wide"}),dayPeriod:wr({values:bm,defaultWidth:"wide",formattingValues:xm,defaultFormattingWidth:"wide"})};function br(r){return(e,t={})=>{const s=t.width,n=s&&r.matchPatterns[s]||r.matchPatterns[r.defaultMatchWidth],i=e.match(n);if(!i)return null;const a=i[0],o=s&&r.parsePatterns[s]||r.parsePatterns[r.defaultParseWidth],l=Array.isArray(o)?Tm(o,h=>h.test(a)):Sm(o,h=>h.test(a));let c;c=r.valueCallback?r.valueCallback(l):l,c=t.valueCallback?t.valueCallback(c):c;const u=e.slice(a.length);return{value:c,rest:u}}}function Sm(r,e){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&e(r[t]))return t}function Tm(r,e){for(let t=0;t<r.length;t++)if(e(r[t]))return t}function km(r){return(e,t={})=>{const s=e.match(r.matchPattern);if(!s)return null;const n=s[0],i=e.match(r.parsePattern);if(!i)return null;let a=r.valueCallback?r.valueCallback(i[0]):i[0];a=t.valueCallback?t.valueCallback(a):a;const o=e.slice(n.length);return{value:a,rest:o}}}const jm=/^(\d+)(th|st|nd|rd)?/i,Cm=/\d+/i,Pm={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Om={any:[/^b/i,/^(a|c)/i]},Rm={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Am={any:[/1/i,/2/i,/3/i,/4/i]},Nm={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Im={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Lm={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},$m={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Dm={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Mm={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Um={ordinalNumber:km({matchPattern:jm,parsePattern:Cm,valueCallback:r=>parseInt(r,10)}),era:br({matchPatterns:Pm,defaultMatchWidth:"wide",parsePatterns:Om,defaultParseWidth:"any"}),quarter:br({matchPatterns:Rm,defaultMatchWidth:"wide",parsePatterns:Am,defaultParseWidth:"any",valueCallback:r=>r+1}),month:br({matchPatterns:Nm,defaultMatchWidth:"wide",parsePatterns:Im,defaultParseWidth:"any"}),day:br({matchPatterns:Lm,defaultMatchWidth:"wide",parsePatterns:$m,defaultParseWidth:"any"}),dayPeriod:br({matchPatterns:Dm,defaultMatchWidth:"any",parsePatterns:Mm,defaultParseWidth:"any"})},Fm={code:"en-US",formatDistance:cm,formatLong:fm,formatRelative:mm,localize:Em,match:Um,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Bm(r){const e=qe(r);return sm(e,om(e))+1}function qm(r){const e=qe(r),t=+cs(e)-+nm(e);return Math.round(t/Wo)+1}function Ho(r,e){var u,h,p,f;const t=qe(r),s=t.getFullYear(),n=js(),i=(e==null?void 0:e.firstWeekContainsDate)??((h=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(p=n.locale)==null?void 0:p.options)==null?void 0:f.firstWeekContainsDate)??1,a=Lt(r,0);a.setFullYear(s+1,0,i),a.setHours(0,0,0,0);const o=Nr(a,e),l=Lt(r,0);l.setFullYear(s,0,i),l.setHours(0,0,0,0);const c=Nr(l,e);return t.getTime()>=o.getTime()?s+1:t.getTime()>=c.getTime()?s:s-1}function Wm(r,e){var o,l,c,u;const t=js(),s=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??t.firstWeekContainsDate??((u=(c=t.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,n=Ho(r,e),i=Lt(r,0);return i.setFullYear(n,0,s),i.setHours(0,0,0,0),Nr(i,e)}function zm(r,e){const t=qe(r),s=+Nr(t,e)-+Wm(t,e);return Math.round(s/Wo)+1}function W(r,e){const t=r<0?"-":"",s=Math.abs(r).toString().padStart(e,"0");return t+s}const it={y(r,e){const t=r.getFullYear(),s=t>0?t:1-t;return W(e==="yy"?s%100:s,e.length)},M(r,e){const t=r.getMonth();return e==="M"?String(t+1):W(t+1,2)},d(r,e){return W(r.getDate(),e.length)},a(r,e){const t=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(r,e){return W(r.getHours()%12||12,e.length)},H(r,e){return W(r.getHours(),e.length)},m(r,e){return W(r.getMinutes(),e.length)},s(r,e){return W(r.getSeconds(),e.length)},S(r,e){const t=e.length,s=r.getMilliseconds(),n=Math.trunc(s*Math.pow(10,t-3));return W(n,e.length)}},Gt={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Di={G:function(r,e,t){const s=r.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(s,{width:"abbreviated"});case"GGGGG":return t.era(s,{width:"narrow"});case"GGGG":default:return t.era(s,{width:"wide"})}},y:function(r,e,t){if(e==="yo"){const s=r.getFullYear(),n=s>0?s:1-s;return t.ordinalNumber(n,{unit:"year"})}return it.y(r,e)},Y:function(r,e,t,s){const n=Ho(r,s),i=n>0?n:1-n;if(e==="YY"){const a=i%100;return W(a,2)}return e==="Yo"?t.ordinalNumber(i,{unit:"year"}):W(i,e.length)},R:function(r,e){const t=zo(r);return W(t,e.length)},u:function(r,e){const t=r.getFullYear();return W(t,e.length)},Q:function(r,e,t){const s=Math.ceil((r.getMonth()+1)/3);switch(e){case"Q":return String(s);case"QQ":return W(s,2);case"Qo":return t.ordinalNumber(s,{unit:"quarter"});case"QQQ":return t.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(s,{width:"wide",context:"formatting"})}},q:function(r,e,t){const s=Math.ceil((r.getMonth()+1)/3);switch(e){case"q":return String(s);case"qq":return W(s,2);case"qo":return t.ordinalNumber(s,{unit:"quarter"});case"qqq":return t.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(s,{width:"wide",context:"standalone"})}},M:function(r,e,t){const s=r.getMonth();switch(e){case"M":case"MM":return it.M(r,e);case"Mo":return t.ordinalNumber(s+1,{unit:"month"});case"MMM":return t.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(s,{width:"wide",context:"formatting"})}},L:function(r,e,t){const s=r.getMonth();switch(e){case"L":return String(s+1);case"LL":return W(s+1,2);case"Lo":return t.ordinalNumber(s+1,{unit:"month"});case"LLL":return t.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(s,{width:"wide",context:"standalone"})}},w:function(r,e,t,s){const n=zm(r,s);return e==="wo"?t.ordinalNumber(n,{unit:"week"}):W(n,e.length)},I:function(r,e,t){const s=qm(r);return e==="Io"?t.ordinalNumber(s,{unit:"week"}):W(s,e.length)},d:function(r,e,t){return e==="do"?t.ordinalNumber(r.getDate(),{unit:"date"}):it.d(r,e)},D:function(r,e,t){const s=Bm(r);return e==="Do"?t.ordinalNumber(s,{unit:"dayOfYear"}):W(s,e.length)},E:function(r,e,t){const s=r.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(s,{width:"short",context:"formatting"});case"EEEE":default:return t.day(s,{width:"wide",context:"formatting"})}},e:function(r,e,t,s){const n=r.getDay(),i=(n-s.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return W(i,2);case"eo":return t.ordinalNumber(i,{unit:"day"});case"eee":return t.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(n,{width:"short",context:"formatting"});case"eeee":default:return t.day(n,{width:"wide",context:"formatting"})}},c:function(r,e,t,s){const n=r.getDay(),i=(n-s.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return W(i,e.length);case"co":return t.ordinalNumber(i,{unit:"day"});case"ccc":return t.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(n,{width:"narrow",context:"standalone"});case"cccccc":return t.day(n,{width:"short",context:"standalone"});case"cccc":default:return t.day(n,{width:"wide",context:"standalone"})}},i:function(r,e,t){const s=r.getDay(),n=s===0?7:s;switch(e){case"i":return String(n);case"ii":return W(n,e.length);case"io":return t.ordinalNumber(n,{unit:"day"});case"iii":return t.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(s,{width:"short",context:"formatting"});case"iiii":default:return t.day(s,{width:"wide",context:"formatting"})}},a:function(r,e,t){const n=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(r,e,t){const s=r.getHours();let n;switch(s===12?n=Gt.noon:s===0?n=Gt.midnight:n=s/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(r,e,t){const s=r.getHours();let n;switch(s>=17?n=Gt.evening:s>=12?n=Gt.afternoon:s>=4?n=Gt.morning:n=Gt.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(r,e,t){if(e==="ho"){let s=r.getHours()%12;return s===0&&(s=12),t.ordinalNumber(s,{unit:"hour"})}return it.h(r,e)},H:function(r,e,t){return e==="Ho"?t.ordinalNumber(r.getHours(),{unit:"hour"}):it.H(r,e)},K:function(r,e,t){const s=r.getHours()%12;return e==="Ko"?t.ordinalNumber(s,{unit:"hour"}):W(s,e.length)},k:function(r,e,t){let s=r.getHours();return s===0&&(s=24),e==="ko"?t.ordinalNumber(s,{unit:"hour"}):W(s,e.length)},m:function(r,e,t){return e==="mo"?t.ordinalNumber(r.getMinutes(),{unit:"minute"}):it.m(r,e)},s:function(r,e,t){return e==="so"?t.ordinalNumber(r.getSeconds(),{unit:"second"}):it.s(r,e)},S:function(r,e){return it.S(r,e)},X:function(r,e,t){const s=r.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return Ui(s);case"XXXX":case"XX":return St(s);case"XXXXX":case"XXX":default:return St(s,":")}},x:function(r,e,t){const s=r.getTimezoneOffset();switch(e){case"x":return Ui(s);case"xxxx":case"xx":return St(s);case"xxxxx":case"xxx":default:return St(s,":")}},O:function(r,e,t){const s=r.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Mi(s,":");case"OOOO":default:return"GMT"+St(s,":")}},z:function(r,e,t){const s=r.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Mi(s,":");case"zzzz":default:return"GMT"+St(s,":")}},t:function(r,e,t){const s=Math.trunc(r.getTime()/1e3);return W(s,e.length)},T:function(r,e,t){const s=r.getTime();return W(s,e.length)}};function Mi(r,e=""){const t=r>0?"-":"+",s=Math.abs(r),n=Math.trunc(s/60),i=s%60;return i===0?t+String(n):t+String(n)+e+W(i,2)}function Ui(r,e){return r%60===0?(r>0?"-":"+")+W(Math.abs(r)/60,2):St(r,e)}function St(r,e=""){const t=r>0?"-":"+",s=Math.abs(r),n=W(Math.trunc(s/60),2),i=W(s%60,2);return t+n+e+i}const Fi=(r,e)=>{switch(r){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Ko=(r,e)=>{switch(r){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Hm=(r,e)=>{const t=r.match(/(P+)(p+)?/)||[],s=t[1],n=t[2];if(!n)return Fi(r,e);let i;switch(s){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",Fi(s,e)).replace("{{time}}",Ko(n,e))},Km={p:Ko,P:Hm},Vm=/^D+$/,Gm=/^Y+$/,Ym=["D","DD","YY","YYYY"];function Jm(r){return Vm.test(r)}function Qm(r){return Gm.test(r)}function Xm(r,e,t){const s=Zm(r,e,t);if(console.warn(s),Ym.includes(r))throw new RangeError(s)}function Zm(r,e,t){const s=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${e}\`) for formatting ${s} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const eg=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,tg=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,rg=/^'([^]*?)'?$/,sg=/''/g,ng=/[a-zA-Z]/;function ig(r,e,t){var u,h,p,f;const s=js(),n=s.locale??Fm,i=s.firstWeekContainsDate??((h=(u=s.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??1,a=s.weekStartsOn??((f=(p=s.locale)==null?void 0:p.options)==null?void 0:f.weekStartsOn)??0,o=qe(r);if(!am(o))throw new RangeError("Invalid time value");let l=e.match(tg).map(y=>{const g=y[0];if(g==="p"||g==="P"){const m=Km[g];return m(y,n.formatLong)}return y}).join("").match(eg).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const g=y[0];if(g==="'")return{isToken:!1,value:ag(y)};if(Di[g])return{isToken:!0,value:y};if(g.match(ng))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:y}});n.localize.preprocessor&&(l=n.localize.preprocessor(o,l));const c={firstWeekContainsDate:i,weekStartsOn:a,locale:n};return l.map(y=>{if(!y.isToken)return y.value;const g=y.value;(Qm(g)||Jm(g))&&Xm(g,e,String(r));const m=Di[g[0]];return m(o,g,n.localize,c)}).join("")}function ag(r){const e=r.match(rg);return e?e[1].replace(sg,"'"):r}function og(){const{user:r}=Be(),[e,t]=v.useState([]),[s,n]=v.useState(!0);v.useEffect(()=>{i()},[r]);const i=async()=>{if(r)try{const{data:o,error:l}=await J.from("optimizations").select(`
          *,
          job_descriptions (
            title,
            company,
            description
          )
        `).eq("user_id",r.id).order("created_at",{ascending:!1});if(l)throw l;t(o||[])}catch(o){console.error("Error fetching optimizations:",o),B.error("Failed to load optimization history")}finally{n(!1)}},a=async o=>{try{const{data:l,error:c}=await J.functions.invoke("generate-pdf",{body:{optimizationId:o}});if(c)throw c;const u=await fetch(`data:application/pdf;base64,${l.pdf}`).then(f=>f.blob()),h=URL.createObjectURL(u),p=document.createElement("a");p.href=h,p.download=`resume_${o.slice(0,8)}.pdf`,document.body.appendChild(p),p.click(),document.body.removeChild(p),URL.revokeObjectURL(h),B.success("PDF downloaded successfully!")}catch(l){console.error("Error downloading PDF:",l),B.error(l.message||"Failed to generate PDF")}};return s?d.jsx("div",{className:"flex justify-center py-12",children:d.jsx("div",{className:"animate-pulse",children:"Loading history..."})}):e.length===0?d.jsx(Se,{children:d.jsx(Te,{className:"py-12 text-center",children:d.jsx("p",{className:"text-muted-foreground",children:"No optimizations yet. Start by submitting a job description!"})})}):d.jsx("div",{className:"space-y-4",children:e.map(o=>{var l,c;return d.jsxs(Se,{className:"shadow-[var(--shadow-card)]",children:[d.jsx(Ce,{children:d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsxs(Pe,{className:"flex items-center gap-2",children:[((l=o.job_descriptions)==null?void 0:l.title)||"Untitled Position",d.jsxs(em,{variant:"secondary",className:"ml-2",children:["ATS: ",o.ats_score,"%"]})]}),d.jsxs(Oe,{className:"flex items-center gap-4",children:[((c=o.job_descriptions)==null?void 0:c.company)&&d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx(Zl,{className:"w-3 h-3"}),o.job_descriptions.company]}),d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx(ec,{className:"w-3 h-3"}),ig(new Date(o.created_at),"MMM d, yyyy")]})]})]}),d.jsxs(de,{size:"sm",onClick:()=>a(o.id),children:[d.jsx(ts,{className:"w-4 h-4 mr-2"}),"PDF"]})]})}),o.suggestions&&d.jsx(Te,{children:d.jsx("p",{className:"text-sm text-muted-foreground line-clamp-3",children:o.suggestions})})]},o.id)})})}function lg(){const{theme:r,setTheme:e}=Ma();return d.jsxs(de,{variant:"outline",size:"sm",onClick:()=>e(r==="light"?"dark":"light"),children:[d.jsx(ic,{className:"h-4 w-4 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),d.jsx(nc,{className:"absolute h-4 w-4 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),d.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}function cg(){const{user:r,signOut:e}=Be(),t=bs(),[s,n]=v.useState(!1),[i,a]=v.useState(!1),[o,l]=v.useState(!0);v.useEffect(()=>{c()},[r]);const c=async()=>{if(!r)return;const{data:p,error:f}=await J.from("resumes").select("id").eq("user_id",r.id).eq("is_current",!0).maybeSingle();f?console.error("Error checking resume:",f):n(!!p);const{data:y,error:g}=await J.from("cover_letters").select("id").eq("user_id",r.id).eq("is_current",!0).maybeSingle();g?console.error("Error checking cover letter:",g):a(!!y),l(!1)},u=()=>{n(!0),B.success("Resume uploaded successfully!")},h=()=>{a(!0),B.success("Cover letter uploaded successfully!")};return o?d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:d.jsx("div",{className:"animate-pulse",children:"Loading..."})}):d.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted/20",children:[d.jsx("header",{className:"border-b bg-card/50 backdrop-blur-sm sticky top-0 z-50",children:d.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary to-secondary rounded-lg flex items-center justify-center",children:d.jsx(_n,{className:"w-5 h-5 text-primary-foreground"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"font-bold text-xl",children:"Resume ATS Optimizer"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:r==null?void 0:r.email})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs(de,{variant:"outline",onClick:()=>t("/settings"),size:"sm",children:[d.jsx(Zs,{className:"w-4 h-4 mr-2"}),"Settings"]}),d.jsx(lg,{}),d.jsxs(de,{variant:"outline",onClick:e,size:"sm",children:[d.jsx(rc,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]})]})}),d.jsx("main",{className:"container mx-auto px-4 py-8",children:!s||!i?d.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[!s&&d.jsxs(Se,{className:"shadow-[var(--shadow-card)]",children:[d.jsxs(Ce,{children:[d.jsxs(Pe,{className:"flex items-center gap-2",children:[d.jsx(rs,{className:"w-5 h-5 text-primary"}),"Upload Your Master Resume"]}),d.jsx(Oe,{children:"Start by uploading your LaTeX resume. We'll use this as the base for all optimizations."})]}),d.jsx(Te,{children:d.jsx(Yp,{onUploadSuccess:u})})]}),!i&&d.jsxs(Se,{className:"shadow-[var(--shadow-card)]",children:[d.jsxs(Ce,{children:[d.jsxs(Pe,{className:"flex items-center gap-2",children:[d.jsx(rs,{className:"w-5 h-5 text-primary"}),"Upload Your Master Cover Letter"]}),d.jsx(Oe,{children:"Upload your LaTeX cover letter template. We'll customize this for each job application."})]}),d.jsx(Te,{children:d.jsx(Jp,{onUploadSuccess:h})})]})]}):d.jsxs(In,{defaultValue:"optimize",className:"space-y-6",children:[d.jsxs(ks,{className:"grid w-full max-w-md mx-auto grid-cols-2",children:[d.jsxs(gt,{value:"optimize",children:[d.jsx(Zr,{className:"w-4 h-4 mr-2"}),"Optimize"]}),d.jsxs(gt,{value:"history",children:[d.jsx(ts,{className:"w-4 h-4 mr-2"}),"History"]})]}),d.jsx(vt,{value:"optimize",className:"space-y-6",children:d.jsxs(Se,{className:"shadow-[var(--shadow-card)]",children:[d.jsxs(Ce,{children:[d.jsx(Pe,{children:"Submit Job Description"}),d.jsx(Oe,{children:"Paste the job description you're applying for, and our AI will optimize your resume for maximum ATS compatibility."})]}),d.jsx(Te,{children:d.jsx(Xp,{})})]})}),d.jsx(vt,{value:"history",children:d.jsx(og,{})})]})})]})}function ug(){const{user:r}=Be(),[e,t]=v.useState(""),[s,n]=v.useState(!0),[i,a]=v.useState(!1);v.useEffect(()=>{o()},[r]);const o=async()=>{if(!r)return;const{data:c,error:u}=await J.from("resumes").select("latex_content").eq("user_id",r.id).eq("is_current",!0).maybeSingle();u?(console.error("Error loading resume:",u),B.error("Failed to load resume")):c&&t(c.latex_content),n(!1)},l=async()=>{if(!r||!e.trim()){B.error("Please enter your LaTeX resume content");return}a(!0);try{await J.from("resumes").update({is_current:!1}).eq("user_id",r.id).eq("is_current",!0);const{error:c}=await J.from("resumes").insert({user_id:r.id,latex_content:e,version:1,is_current:!0});if(c)throw c;B.success("Resume updated successfully!")}catch(c){console.error("Error updating resume:",c),B.error(c.message||"Failed to update resume")}finally{a(!1)}};return s?d.jsx("div",{className:"flex items-center justify-center p-8",children:d.jsx("div",{className:"animate-pulse",children:"Loading resume..."})}):d.jsxs(Se,{children:[d.jsxs(Ce,{children:[d.jsxs(Pe,{className:"flex items-center gap-2",children:[d.jsx(ka,{className:"w-5 h-5 text-primary"}),"Edit Resume"]}),d.jsx(Oe,{children:"Update your master LaTeX resume template. Changes will be used for all future optimizations."})]}),d.jsxs(Te,{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ee,{htmlFor:"latex-content",children:"LaTeX Resume Content"}),d.jsx(Qe,{id:"latex-content",placeholder:"Paste your LaTeX resume here...",value:e,onChange:c=>t(c.target.value),className:"min-h-[400px] font-mono text-sm"})]}),d.jsxs(de,{onClick:l,disabled:i,className:"w-full",children:[d.jsx(En,{className:"w-4 h-4 mr-2"}),i?"Saving...":"Save Resume"]})]})]})}function dg(){const{user:r}=Be(),[e,t]=v.useState(""),[s,n]=v.useState(!0),[i,a]=v.useState(!1);v.useEffect(()=>{o()},[r]);const o=async()=>{if(!r)return;const{data:c,error:u}=await J.from("cover_letters").select("latex_content").eq("user_id",r.id).eq("is_current",!0).maybeSingle();u?(console.error("Error loading cover letter:",u),B.error("Failed to load cover letter")):c&&t(c.latex_content),n(!1)},l=async()=>{if(!r||!e.trim()){B.error("Please enter your LaTeX cover letter content");return}a(!0);try{await J.from("cover_letters").update({is_current:!1}).eq("user_id",r.id).eq("is_current",!0);const{error:c}=await J.from("cover_letters").insert({user_id:r.id,latex_content:e,version:1,is_current:!0});if(c)throw c;B.success("Cover letter updated successfully!")}catch(c){console.error("Error updating cover letter:",c),B.error(c.message||"Failed to update cover letter")}finally{a(!1)}};return s?d.jsx("div",{className:"flex items-center justify-center p-8",children:d.jsx("div",{className:"animate-pulse",children:"Loading cover letter..."})}):d.jsxs(Se,{children:[d.jsxs(Ce,{children:[d.jsxs(Pe,{className:"flex items-center gap-2",children:[d.jsx(ka,{className:"w-5 h-5 text-primary"}),"Edit Cover Letter"]}),d.jsx(Oe,{children:"Update your master LaTeX cover letter template. Changes will be used for all future generations."})]}),d.jsxs(Te,{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ee,{htmlFor:"latex-content",children:"LaTeX Cover Letter Content"}),d.jsx(Qe,{id:"latex-content",placeholder:"Paste your LaTeX cover letter here...",value:e,onChange:c=>t(c.target.value),className:"min-h-[400px] font-mono text-sm"})]}),d.jsxs(de,{onClick:l,disabled:i,className:"w-full",children:[d.jsx(En,{className:"w-4 h-4 mr-2"}),i?"Saving...":"Save Cover Letter"]})]})]})}function hg(){const{user:r}=Be(),e=bs(),[t,s]=v.useState(""),[n,i]=v.useState(!0),[a,o]=v.useState(!1);v.useEffect(()=>{l()},[r]);const l=async()=>{if(!r)return;const{data:u,error:h}=await J.from("user_settings").select("ai_prompt").eq("user_id",r.id).maybeSingle();h?(console.error("Error loading settings:",h),B.error("Failed to load settings")):s(u?u.ai_prompt:`You are an expert ATS (Applicant Tracking System) resume optimizer. 

Given the following LaTeX resume and job description, optimize the resume to maximize ATS compatibility while maintaining authenticity.

INSTRUCTIONS:
1. Identify key keywords and phrases from the job description
2. Modify the LaTeX resume to incorporate these keywords naturally
3. Adjust bullet points to align with job requirements
4. Maintain LaTeX formatting integrity
5. Keep the changes truthful - don't fabricate experience
6. Provide an ATS compatibility score (0-100)
7. Include specific suggestions for improvement`),i(!1)},c=async()=>{if(!r)return;o(!0);const{data:u}=await J.from("user_settings").select("id").eq("user_id",r.id).maybeSingle();let h;if(u){const{error:p}=await J.from("user_settings").update({ai_prompt:t}).eq("user_id",r.id);h=p}else{const{error:p}=await J.from("user_settings").insert({user_id:r.id,ai_prompt:t});h=p}h?(console.error("Error saving settings:",h),B.error("Failed to save settings")):B.success("Settings saved successfully!"),o(!1)};return n?d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:d.jsx("div",{className:"animate-pulse",children:"Loading..."})}):d.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[d.jsxs(de,{variant:"ghost",onClick:()=>e(-1),className:"mb-4",children:[d.jsx(tc,{className:"w-4 h-4 mr-2"}),"Back"]}),d.jsxs(In,{defaultValue:"ai-settings",className:"space-y-6",children:[d.jsxs(ks,{className:"grid w-full grid-cols-3",children:[d.jsxs(gt,{value:"ai-settings",children:[d.jsx(Zs,{className:"w-4 h-4 mr-2"}),"AI Settings"]}),d.jsxs(gt,{value:"resume",children:[d.jsx(_n,{className:"w-4 h-4 mr-2"}),"Resume"]}),d.jsxs(gt,{value:"cover-letter",children:[d.jsx(sc,{className:"w-4 h-4 mr-2"}),"Cover Letter"]})]}),d.jsx(vt,{value:"ai-settings",children:d.jsxs(Se,{className:"shadow-[var(--shadow-card)]",children:[d.jsxs(Ce,{children:[d.jsxs(Pe,{className:"flex items-center gap-2",children:[d.jsx(Zs,{className:"w-5 h-5 text-primary"}),"AI Optimization Settings"]}),d.jsx(Oe,{children:"Customize the AI prompt used for ATS resume optimization. This prompt guides how the AI analyzes job descriptions and optimizes your resume."})]}),d.jsxs(Te,{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium mb-2 block",children:"AI System Prompt"}),d.jsx(Qe,{value:t,onChange:u=>s(u.target.value),rows:15,className:"font-mono text-sm",placeholder:"Enter your custom AI prompt here..."}),d.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"The prompt should include placeholders for the resume and job description. The AI will use this to optimize your LaTeX resume."})]}),d.jsxs(de,{onClick:c,disabled:a,className:"w-full",children:[d.jsx(En,{className:"w-4 h-4 mr-2"}),a?"Saving...":"Save Settings"]})]})]})}),d.jsx(vt,{value:"resume",children:d.jsx(ug,{})}),d.jsx(vt,{value:"cover-letter",children:d.jsx(dg,{})})]}),d.jsxs(Se,{className:"mt-6 shadow-[var(--shadow-card)]",children:[d.jsxs(Ce,{children:[d.jsx(Pe,{children:"Python Backend Alternative"}),d.jsx(Oe,{children:"Want to use your own Python backend for PDF generation? Here's how."})]}),d.jsxs(Te,{className:"space-y-4",children:[d.jsx("p",{className:"text-sm",children:"The current app uses edge functions for LaTeX to PDF conversion. If you prefer a Python backend, you can set up a FastAPI server separately:"}),d.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[d.jsx("p",{className:"text-sm font-medium mb-2",children:"Steps:"}),d.jsxs("ol",{className:"text-sm space-y-1 list-decimal list-inside",children:[d.jsx("li",{children:"Create a FastAPI server with a /generate-pdf endpoint"}),d.jsxs("li",{children:["Use Python libraries like ",d.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"subprocess"})," to run pdflatex"]}),d.jsx("li",{children:"Deploy your Python backend (e.g., Railway, Render, or your own server)"}),d.jsx("li",{children:"Update the frontend to call your Python API instead of edge functions"})]})]}),d.jsxs("details",{className:"text-sm",children:[d.jsx("summary",{className:"cursor-pointer font-medium",children:"View Python example code"}),d.jsx("pre",{className:"mt-2 bg-muted p-4 rounded-lg overflow-x-auto text-xs",children:`from fastapi import FastAPI, HTTPException
from fastapi.middleware.cors import CORSMiddleware
from pydantic import BaseModel
import subprocess
import tempfile
import base64
import os

app = FastAPI()

app.add_middleware(
    CORSMiddleware,
    allow_origins=["*"],
    allow_credentials=True,
    allow_methods=["*"],
    allow_headers=["*"],
)

class LatexRequest(BaseModel):
    latex_content: str

@app.post("/generate-pdf")
async def generate_pdf(request: LatexRequest):
    try:
        with tempfile.TemporaryDirectory() as tmpdir:
            tex_file = os.path.join(tmpdir, "resume.tex")
            
            with open(tex_file, 'w') as f:
                f.write(request.latex_content)
            
            # Run pdflatex
            result = subprocess.run(
                ['pdflatex', '-interaction=nonstopmode', 'resume.tex'],
                cwd=tmpdir,
                capture_output=True,
                timeout=30
            )
            
            if result.returncode != 0:
                raise HTTPException(
                    status_code=500,
                    detail="LaTeX compilation failed"
                )
            
            pdf_file = os.path.join(tmpdir, "resume.pdf")
            
            if not os.path.exists(pdf_file):
                raise HTTPException(
                    status_code=500,
                    detail="PDF file not generated"
                )
            
            with open(pdf_file, 'rb') as f:
                pdf_data = f.read()
            
            pdf_base64 = base64.b64encode(pdf_data).decode()
            
            return {"pdf": pdf_base64}
            
    except subprocess.TimeoutExpired:
        raise HTTPException(
            status_code=500,
            detail="LaTeX compilation timed out"
        )
    except Exception as e:
        raise HTTPException(
            status_code=500,
            detail=str(e)
        )`})]})]})]})]})}const fg=()=>{const r=ws();return v.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",r.pathname)},[r.pathname]),d.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),d.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),d.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},pg=new fd;function Bi({children:r}){const{user:e,loading:t}=Be();return t?d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:d.jsx("div",{className:"animate-pulse",children:"Loading..."})}):e?d.jsx(d.Fragment,{children:r}):d.jsx(fo,{to:"/auth",replace:!0})}function mg({children:r}){const{user:e,loading:t}=Be();return t?d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:d.jsx("div",{className:"animate-pulse",children:"Loading..."})}):e?d.jsx(fo,{to:"/",replace:!0}):d.jsx(d.Fragment,{children:r})}const gg=()=>d.jsx(md,{client:pg,children:d.jsxs(Wu,{children:[d.jsx(qc,{}),d.jsx(Tu,{}),d.jsx(ah,{children:d.jsx(Wp,{children:d.jsxs(sh,{children:[d.jsx(xr,{path:"/",element:d.jsx(Bi,{children:d.jsx(cg,{})})}),d.jsx(xr,{path:"/settings",element:d.jsx(Bi,{children:d.jsx(hg,{})})}),d.jsx(xr,{path:"/auth",element:d.jsx(mg,{children:d.jsx(Gp,{})})}),d.jsx(xr,{path:"*",element:d.jsx(fg,{})})]})})})]})});function vg({children:r,...e}){return d.jsx(Kc,{...e,children:r})}sa(document.getElementById("root")).render(d.jsx(v.StrictMode,{children:d.jsx(vg,{attribute:"class",defaultTheme:"dark",enableSystem:!0,children:d.jsx(gg,{})})}));
